import onOff from './on_off';
import context from './context';

const logger = context('filestack', onOff);

const initializeGlobalNamespace = () => {
  let namespace;
  if (typeof window === 'object') {
    namespace = window.filestackInternals;
    if (!namespace) {
      namespace = {};
      window.filestackInternals = namespace;
    }
    if (!namespace.logger) {
      namespace.logger = logger;
      onOff.init();
    }
  }
  return namespace;
};

initializeGlobalNamespace();

export default logger;
