# logger-js

Logger used across all Filestack JavaScript modules.

## Installation

```
npm install --save http://static.filestackapi.com/packages/logger/logger-0.0.0.tar.gz
```
Provide correct version number in place of `0.0.0`.

## Usage

```js
import logger from 'logger';

logger('Hello world!'); // [filestack] Hello world!

const pickerLogger = logger.context('picker');
pickerLogger('Hello picker!'); // [filestack-picker] Hello picker!

// Turn logging on / off
// Note: logger is off by default
logger.off();
logger.on();

// Those methods are also attached to global filestack namespace, so you can
// turn logging on via devtools for any website of our client you need to debug.
window.filestackInternals.logger.on();
window.filestackInternals.logger.off();
```

# Development

## Setup

```
npm install
```

## Testing

### Unit

```
npm test
```
This command opens in the browser semi-manual tests. Those tests doesn't have watch, so you need to refire the command with each change.

## Release flow

Before you can push new version to production you need to go thorough automated release process. Start with merging all new code you want to release into master branch. Then run:
```
npm run release-start
```
Now `CHANGELOG.md` has been prefilled for you with all commit messages since the last release. Almost always you shouldn't commit them as they were generated, but try to squish them into fewer, more general bullet points. After you're done with changelog don't commit the changes. Run the script which will do this for you:
```
npm run release-finish
```
Now you're ready to publish the code.
```
npm run publish
```
This project is published as tarball file to URL `http://static.filestackapi.com/packages/logger/logger-X.X.X.tar.gz` (where X.X.X is the version number).

__Note:__ To be able to push content to our S3 buckets [you need credentials file](https://github.com/filepicker/release-o-tron-js#s3) on your disk.
