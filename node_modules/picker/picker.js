/* v0.4.1 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.filestack=e.filestack||{},e.filestack.pick=t())}(this,function(){function e(e){return null==e?"":"object"===(void 0===e?"undefined":un(e))?JSON.stringify(e,null,2):String(e)}function t(e){var t=parseFloat(e);return isNaN(t)?e:t}function i(e,t){for(var i=Object.create(null),n=e.split(","),o=0;o<n.length;o++)i[n[o]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}function n(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}function o(e,t){return mn.call(e,t)}function r(e){return"string"==typeof e||"number"==typeof e}function s(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}function a(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function l(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n}function c(e,t){for(var i in t)e[i]=t[i];return e}function u(e){return null!==e&&"object"===(void 0===e?"undefined":un(e))}function d(e){return _n.call(e)===yn}function f(e){for(var t={},i=0;i<e.length;i++)e[i]&&c(t,e[i]);return t}function p(){}function m(e,t){var i=u(e),n=u(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{return JSON.stringify(e)===JSON.stringify(t)}catch(i){return e===t}}function h(e,t){for(var i=0;i<e.length;i++)if(m(e[i],t))return i;return-1}function v(e){var t=!1;return function(){t||(t=!0,e())}}function g(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function _(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function y(e){if(!wn.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}function b(e){return/native code/.test(e.toString())}function C(e){zn.target&&jn.push(zn.target),zn.target=e}function E(){zn.target=jn.pop()}function S(e,t){e.__proto__=t}function w(e,t,i){for(var n=0,o=i.length;n<o;n++){var r=i[n];_(e,r,t[r])}}function T(e,t){if(u(e)){var i;return o(e,"__ob__")&&e.__ob__ instanceof Bn?i=e.__ob__:Hn.shouldConvert&&!In()&&(Array.isArray(e)||d(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Bn(e)),t&&i&&i.vmCount++,i}}function A(e,t,i,n){var o=new zn,r=Object.getOwnPropertyDescriptor(e,t);if(!r||r.configurable!==!1){var s=r&&r.get,a=r&&r.set,l=T(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):i;return zn.target&&(o.depend(),l&&l.dep.depend(),Array.isArray(t)&&R(t)),t},set:function(t){var n=s?s.call(e):i;t===n||t!==t&&n!==n||(a?a.call(e,t):i=t,l=T(t),o.notify())}})}}function F(e,t,i){if(Array.isArray(e))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(o(e,t))return e[t]=i,i;var n=e.__ob__;return e._isVue||n&&n.vmCount?i:n?(A(n.value,t,i),n.dep.notify(),i):(e[t]=i,i)}function k(e,t){if(Array.isArray(e))return void e.splice(t,1);var i=e.__ob__;e._isVue||i&&i.vmCount||o(e,t)&&(delete e[t],i&&i.dep.notify())}function R(e){for(var t=void 0,i=0,n=e.length;i<n;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&R(t)}function O(e,t){if(!t)return e;for(var i,n,r,s=Object.keys(t),a=0;a<s.length;a++)i=s[a],n=e[i],r=t[i],o(e,i)?d(n)&&d(r)&&O(n,r):F(e,i,r);return e}function L(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function N(e,t){var i=Object.create(e||null);return t?c(i,t):i}function x(e){var t=e.props;if(t){var i,n,o,r={};if(Array.isArray(t))for(i=t.length;i--;)"string"==typeof(n=t[i])&&(o=hn(n),r[o]={type:null});else if(d(t))for(var s in t)n=t[s],o=hn(s),r[o]=d(n)?n:{type:n};e.props=r}}function I(e){var t=e.directives;if(t)for(var i in t){var n=t[i];"function"==typeof n&&(t[i]={bind:n,update:n})}}function D(e,t,i){function n(n){var o=Yn[n]||Xn;u[n]=o(e[n],t[n],i,n)}x(t),I(t);var r=t.extends;if(r&&(e="function"==typeof r?D(e,r.options,i):D(e,r,i)),t.mixins)for(var s=0,a=t.mixins.length;s<a;s++){var l=t.mixins[s];l.prototype instanceof tt&&(l=l.options),e=D(e,l,i)}var c,u={};for(c in e)n(c);for(c in t)o(e,c)||n(c);return u}function $(e,t,i,n){if("string"==typeof i){var r=e[t];if(o(r,i))return r[i];var s=hn(i);if(o(r,s))return r[s];var a=vn(s);if(o(r,a))return r[a];var l=r[i]||r[s]||r[a];return l}}function U(e,t,i,n){var r=t[e],s=!o(i,e),a=i[e];if(z(Boolean,r.type)&&(s&&!o(r,"default")?a=!1:z(String,r.type)||""!==a&&a!==gn(e)||(a=!0)),void 0===a){a=M(n,r,e);var l=Hn.shouldConvert;Hn.shouldConvert=!0,T(a),Hn.shouldConvert=l}return a}function M(e,t,i){if(o(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"==typeof n&&"Function"!==P(t.type)?n.call(e):n}}function P(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t&&t[1]}function z(e,t){if(!Array.isArray(t))return P(t)===P(e);for(var i=0,n=t.length;i<n;i++)if(P(t[i])===P(e))return!0;return!1}function j(e,t,i){if(En.errorHandler)En.errorHandler.call(null,e,t,i);else{if(!An||"undefined"==typeof console)throw e;console.error(e)}}function V(e){return new qn(void 0,void 0,void 0,String(e))}function G(e){var t=new qn(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function W(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=G(e[n]);return i}function H(e){function t(){var e=arguments,i=t.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=0;n<i.length;n++)i[n].apply(null,e)}return t.fns=e,t}function B(e,t,i,n,o){var r,s,a,l;for(r in e)s=e[r],a=t[r],l=Jn(r),s&&(a?s!==a&&(a.fns=s,e[r]=a):(s.fns||(s=e[r]=H(s)),i(l.name,s,l.once,l.capture)));for(r in t)e[r]||(l=Jn(r),n(l.name,t[r],l.capture))}function Y(e,t,i){function o(){i.apply(this,arguments),n(r.fns,o)}var r,s=e[t];s?s.fns&&s.merged?(r=s,r.fns.push(o)):r=H([s,o]):r=H([o]),r.merged=!0,e[t]=r}function X(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function q(e){return r(e)?[V(e)]:Array.isArray(e)?K(e):void 0}function K(e,t){var i,n,o,s=[];for(i=0;i<e.length;i++)null!=(n=e[i])&&"boolean"!=typeof n&&(o=s[s.length-1],Array.isArray(n)?s.push.apply(s,K(n,(t||"")+"_"+i)):r(n)?o&&o.text?o.text+=String(n):""!==n&&s.push(V(n)):n.text&&o&&o.text?s[s.length-1]=V(o.text+n.text):(n.tag&&null==n.key&&null!=t&&(n.key="__vlist"+t+"_"+i+"__"),s.push(n)));return s}function Z(e){return e&&e.filter(function(e){return e&&e.componentOptions})[0]}function Q(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&te(e,t)}function J(e,t,i){i?Zn.$once(e,t):Zn.$on(e,t)}function ee(e,t){Zn.$off(e,t)}function te(e,t,i){Zn=e,B(t,i||{},J,ee,e)}function ie(e,t){var i={};if(!e)return i;for(var n,o,r=[],s=0,a=e.length;s<a;s++)if(o=e[s],(o.context===t||o.functionalContext===t)&&o.data&&(n=o.data.slot)){var l=i[n]||(i[n]=[]);"template"===o.tag?l.push.apply(l,o.children):l.push(o)}else r.push(o);return r.every(ne)||(i.default=r),i}function ne(e){return e.isComment||" "===e.text}function oe(e){for(var t={},i=0;i<e.length;i++)t[e[i][0]]=e[i][1];return t}function re(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function se(e,t,i){e.$el=t,e.$options.render||(e.$options.render=Qn),de(e,"beforeMount");var n;return n=function(){e._update(e._render(),i)},e._watcher=new ao(e,n,p),i=!1,null==e.$vnode&&(e._isMounted=!0,de(e,"mounted")),e}function ae(e,t,i,n,o){var r=!!(o||e.$options._renderChildren||n.data.scopedSlots||e.$scopedSlots!==Sn);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=o,t&&e.$options.props){Hn.shouldConvert=!1;for(var s=e._props,a=e.$options._propKeys||[],l=0;l<a.length;l++){var c=a[l];s[c]=U(c,e.$options.props,t,e)}Hn.shouldConvert=!0,e.$options.propsData=t}if(i){var u=e.$options._parentListeners;e.$options._parentListeners=i,te(e,i,u)}r&&(e.$slots=ie(o,n.context),e.$forceUpdate())}function le(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ce(e,t){if(t){if(e._directInactive=!1,le(e))return}else if(e._directInactive)return;if(e._inactive||null==e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)ce(e.$children[i]);de(e,"activated")}}function ue(e,t){if(!(t&&(e._directInactive=!0,le(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)ue(e.$children[i]);de(e,"deactivated")}}function de(e,t){var i=e.$options[t];if(i)for(var n=0,o=i.length;n<o;n++)try{i[n].call(e)}catch(i){j(i,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function fe(){to.length=0,io={},no=oo=!1}function pe(){oo=!0;var e,t,i;for(to.sort(function(e,t){return e.id-t.id}),ro=0;ro<to.length;ro++)e=to[ro],t=e.id,io[t]=null,e.run();for(ro=to.length;ro--;)e=to[ro],i=e.vm,i._watcher===e&&i._isMounted&&de(i,"updated");Dn&&En.devtools&&Dn.emit("flush"),fe()}function me(e){var t=e.id;if(null==io[t]){if(io[t]=!0,oo){for(var i=to.length-1;i>=0&&to[i].id>e.id;)i--;to.splice(Math.max(i,ro)+1,0,e)}else to.push(e);no||(no=!0,Un(pe))}}function he(e){lo.clear(),ve(e,lo)}function ve(e,t){var i,n,o=Array.isArray(e);if((o||u(e))&&Object.isExtensible(e)){if(e.__ob__){var r=e.__ob__.dep.id;if(t.has(r))return;t.add(r)}if(o)for(i=e.length;i--;)ve(e[i],t);else for(n=Object.keys(e),i=n.length;i--;)ve(e[n[i]],t)}}function ge(e,t,i){co.get=function(){return this[t][i]},co.set=function(e){this[t][i]=e},Object.defineProperty(e,i,co)}function _e(e){e._watchers=[];var t=e.$options;t.props&&ye(e,t.props),t.methods&&we(e,t.methods),t.data?be(e):T(e._data={},!0),t.computed&&Ce(e,t.computed),t.watch&&Te(e,t.watch)}function ye(e,t){var i=e.$options.propsData||{},n=e._props={},o=e.$options._propKeys=[],r=!e.$parent;Hn.shouldConvert=r;for(var s in t)!function(r){o.push(r),A(n,r,U(r,t,i,e)),r in e||ge(e,"_props",r)}(s);Hn.shouldConvert=!0}function be(e){var t=e.$options.data;t=e._data="function"==typeof t?t.call(e):t||{},d(t)||(t={});for(var i=Object.keys(t),n=e.$options.props,r=i.length;r--;)n&&o(n,i[r])||g(i[r])||ge(e,"_data",i[r]);T(t,!0)}function Ce(e,t){var i=e._computedWatchers=Object.create(null);for(var n in t){var o=t[n],r="function"==typeof o?o:o.get;i[n]=new ao(e,r,p,uo),n in e||Ee(e,n,o)}}function Ee(e,t,i){"function"==typeof i?(co.get=Se(t),co.set=p):(co.get=i.get?i.cache!==!1?Se(t):i.get:p,co.set=i.set?i.set:p),Object.defineProperty(e,t,co)}function Se(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),zn.target&&t.depend(),t.value}}function we(e,t){e.$options.props;for(var i in t)e[i]=null==t[i]?p:a(t[i],e)}function Te(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var o=0;o<n.length;o++)Ae(e,i,n[o]);else Ae(e,i,n)}}function Ae(e,t,i){var n;d(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,n)}function Fe(e,t,i,n,o){if(e){var r=i.$options._base;if(u(e)&&(e=r.extend(e)),"function"==typeof e){if(!e.cid)if(e.resolved)e=e.resolved;else if(!(e=Oe(e,r,function(){i.$forceUpdate()})))return;Qe(e),t=t||{},t.model&&De(e.options,t);var s=Le(t,e);if(e.options.functional)return ke(e,s,t,i,n);var a=t.on;t.on=t.nativeOn,e.options.abstract&&(t={}),xe(t);var l=e.options.name||o;return new qn("vue-component-"+e.cid+(l?"-"+l:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:s,listeners:a,tag:o,children:n})}}}function ke(e,t,i,n,o){var r={},s=e.options.props;if(s)for(var a in s)r[a]=U(a,s,t);var l=Object.create(n),c=function(e,t,i,n){return $e(l,e,t,i,n,!0)},u=e.options.render.call(null,c,{props:r,data:i,parent:n,children:o,slots:function(){return ie(o,n)}});return u instanceof qn&&(u.functionalContext=n,i.slot&&((u.data||(u.data={})).slot=i.slot)),u}function Re(e,t,i,n){var o=e.componentOptions,r={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:i||null,_refElm:n||null},s=e.data.inlineTemplate;return s&&(r.render=s.render,r.staticRenderFns=s.staticRenderFns),new o.Ctor(r)}function Oe(e,t,i){if(!e.requested){e.requested=!0;var n=e.pendingCallbacks=[i],o=!0,r=function(i){if(u(i)&&(i=t.extend(i)),e.resolved=i,!o)for(var r=0,s=n.length;r<s;r++)n[r](i)},s=function(e){},a=e(r,s);return a&&"function"==typeof a.then&&!e.resolved&&a.then(r,s),o=!1,e.resolved}e.pendingCallbacks.push(i)}function Le(e,t){var i=t.options.props;if(i){var n={},o=e.attrs,r=e.props,s=e.domProps;if(o||r||s)for(var a in i){var l=gn(a);Ne(n,r,a,l,!0)||Ne(n,o,a,l)||Ne(n,s,a,l)}return n}}function Ne(e,t,i,n,r){if(t){if(o(t,i))return e[i]=t[i],r||delete t[i],!0;if(o(t,n))return e[i]=t[n],r||delete t[n],!0}return!1}function xe(e){e.hook||(e.hook={});for(var t=0;t<po.length;t++){var i=po[t],n=e.hook[i],o=fo[i];e.hook[i]=n?Ie(o,n):o}}function Ie(e,t){return function(i,n,o,r){e(i,n,o,r),t(i,n,o,r)}}function De(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.props||(t.props={}))[i]=t.model.value;var o=t.on||(t.on={});o[n]?o[n]=[t.model.callback].concat(o[n]):o[n]=t.model.callback}function $e(e,t,i,n,o,s){return(Array.isArray(i)||r(i))&&(o=n,n=i,i=void 0),s&&(o=ho),Ue(e,t,i,n,o)}function Ue(e,t,i,n,o){if(i&&i.__ob__)return Qn();if(!t)return Qn();Array.isArray(n)&&"function"==typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),o===ho?n=q(n):o===mo&&(n=X(n));var r,s;if("string"==typeof t){var a;s=En.getTagNamespace(t),r=En.isReservedTag(t)?new qn(En.parsePlatformTagName(t),i,n,void 0,void 0,e):(a=$(e.$options,"components",t))?Fe(a,i,e,n,t):new qn(t,i,n,void 0,void 0,e)}else r=Fe(t,i,e,n);return r?(s&&Me(r,s),r):Qn()}function Me(e,t){if(e.ns=t,"foreignObject"!==e.tag&&e.children)for(var i=0,n=e.children.length;i<n;i++){var o=e.children[i];o.tag&&!o.ns&&Me(o,t)}}function Pe(e,t){var i,n,o,r,s;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),n=0,o=e.length;n<o;n++)i[n]=t(e[n],n);else if("number"==typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(u(e))for(r=Object.keys(e),i=new Array(r.length),n=0,o=r.length;n<o;n++)s=r[n],i[n]=t(e[s],s,n);return i}function ze(e,t,i,n){var o=this.$scopedSlots[e];if(o)return i=i||{},n&&c(i,n),o(i)||t;var r=this.$slots[e];return r||t}function je(e){return $(this.$options,"filters",e,!0)||Cn}function Ve(e,t,i){var n=En.keyCodes[t]||i;return Array.isArray(n)?n.indexOf(e)===-1:n!==e}function Ge(e,t,i,n){if(i)if(u(i)){Array.isArray(i)&&(i=f(i));var o;for(var r in i){if("class"===r||"style"===r)o=e;else{var s=e.attrs&&e.attrs.type;o=n||En.mustUseProp(t,s,r)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}r in o||(o[r]=i[r])}}else;return e}function We(e,t){var i=this._staticTrees[e];return i&&!t?Array.isArray(i)?W(i):G(i):(i=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),Be(i,"__static__"+e,!1),i)}function He(e,t,i){return Be(e,"__once__"+t+(i?"_"+i:""),!0),e}function Be(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&Ye(e[n],t+"_"+n,i);else Ye(e,t,i)}function Ye(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Xe(e){e.$vnode=null,e._vnode=null,e._staticTrees=null;var t=e.$options._parentVnode,i=t&&t.context;e.$slots=ie(e.$options._renderChildren,i),e.$scopedSlots=Sn,e._c=function(t,i,n,o){return $e(e,t,i,n,o,!1)},e.$createElement=function(t,i,n,o){return $e(e,t,i,n,o,!0)}}function qe(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Ke(e){var t=e.$options.inject;if(t)for(var i=Array.isArray(t),n=i?t:$n?Reflect.ownKeys(t):Object.keys(t),o=0;o<n.length;o++)for(var r=n[o],s=i?r:t[r],a=e;a;){if(a._provided&&s in a._provided){e[r]=a._provided[s];break}a=a.$parent}}function Ze(e,t){var i=e.$options=Object.create(e.constructor.options);i.parent=t.parent,i.propsData=t.propsData,i._parentVnode=t._parentVnode,i._parentListeners=t._parentListeners,i._renderChildren=t._renderChildren,i._componentTag=t._componentTag,i._parentElm=t._parentElm,i._refElm=t._refElm,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function Qe(e){var t=e.options;if(e.super){var i=Qe(e.super);if(i!==e.superOptions){e.superOptions=i;var n=Je(e);n&&c(e.extendOptions,n),t=e.options=D(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Je(e){var t,i=e.options,n=e.sealedOptions;for(var o in i)i[o]!==n[o]&&(t||(t={}),t[o]=et(i[o],n[o]));return t}function et(e,t){if(Array.isArray(e)){var i=[];t=Array.isArray(t)?t:[t];for(var n=0;n<e.length;n++)t.indexOf(e[n])<0&&i.push(e[n]);return i}return e}function tt(e){this._init(e)}function it(e){e.use=function(e){if(!e.installed){var t=l(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),e.installed=!0,this}}}function nt(e){e.mixin=function(e){this.options=D(this.options,e)}}function ot(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,o=e._Ctor||(e._Ctor={});if(o[n])return o[n];var r=e.name||i.options.name,s=function(e){this._init(e)};return s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.cid=t++,s.options=D(i.options,e),s.super=i,s.options.props&&rt(s),s.options.computed&&st(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,En._assetTypes.forEach(function(e){s[e]=i[e]}),r&&(s.options.components[r]=s),s.superOptions=i.options,s.extendOptions=e,s.sealedOptions=c({},s.options),o[n]=s,s}}function rt(e){var t=e.options.props;for(var i in t)ge(e.prototype,"_props",i)}function st(e){var t=e.options.computed;for(var i in t)Ee(e.prototype,i,t[i])}function at(e){En._assetTypes.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&d(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"==typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}function lt(e){return e&&(e.Ctor.options.name||e.tag)}function ct(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:e instanceof RegExp&&e.test(t)}function ut(e,t){for(var i in e){var n=e[i];if(n){var o=lt(n.componentOptions);o&&!t(o)&&(dt(n),e[i]=null)}}}function dt(e){e&&(e.componentInstance._inactive||de(e.componentInstance,"deactivated"),e.componentInstance.$destroy())}function ft(e){for(var t=e.data,i=e,n=e;n.componentInstance;)n=n.componentInstance._vnode,n.data&&(t=pt(n.data,t));for(;i=i.parent;)i.data&&(t=pt(t,i.data));return mt(t)}function pt(e,t){return{staticClass:ht(e.staticClass,t.staticClass),class:e.class?[e.class,t.class]:t.class}}function mt(e){var t=e.class,i=e.staticClass;return i||t?ht(i,vt(t)):""}function ht(e,t){return e?t?e+" "+t:e:t||""}function vt(e){var t="";if(!e)return t;if("string"==typeof e)return e;if(Array.isArray(e)){for(var i,n=0,o=e.length;n<o;n++)e[n]&&(i=vt(e[n]))&&(t+=i+" ");return t.slice(0,-1)}if(u(e)){for(var r in e)e[r]&&(t+=r+" ");return t.slice(0,-1)}return t}function gt(e){return No(e)?"svg":"math"===e?"math":void 0}function _t(e){if(!An)return!0;if(xo(e))return!1;if(e=e.toLowerCase(),null!=Io[e])return Io[e];var t=document.createElement(e);return e.indexOf("-")>-1?Io[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Io[e]=/HTMLUnknownElement/.test(t.toString())}function yt(e){if("string"==typeof e){var t=document.querySelector(e);return t?t:document.createElement("div")}return e}function bt(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function Ct(e,t){return document.createElementNS(Oo[e],t)}function Et(e){return document.createTextNode(e)}function St(e){return document.createComment(e)}function wt(e,t,i){e.insertBefore(t,i)}function Tt(e,t){e.removeChild(t)}function At(e,t){e.appendChild(t)}function Ft(e){return e.parentNode}function kt(e){return e.nextSibling}function Rt(e){return e.tagName}function Ot(e,t){e.textContent=t}function Lt(e,t,i){e.setAttribute(t,i)}function Nt(e,t){var i=e.data.ref;if(i){var o=e.context,r=e.componentInstance||e.elm,s=o.$refs;t?Array.isArray(s[i])?n(s[i],r):s[i]===r&&(s[i]=void 0):e.data.refInFor?Array.isArray(s[i])&&s[i].indexOf(r)<0?s[i].push(r):s[i]=[r]:s[i]=r}}function xt(e){return null==e}function It(e){return null!=e}function Dt(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&!e.data==!t.data}function $t(e,t,i){var n,o,r={};for(n=t;n<=i;++n)o=e[n].key,It(o)&&(r[o]=n);return r}function Ut(e,t){(e.data.directives||t.data.directives)&&Mt(e,t)}function Mt(e,t){var i,n,o,r=e===Uo,s=t===Uo,a=Pt(e.data.directives,e.context),l=Pt(t.data.directives,t.context),c=[],u=[];for(i in l)n=a[i],o=l[i],n?(o.oldValue=n.value,jt(o,"update",t,e),o.def&&o.def.componentUpdated&&u.push(o)):(jt(o,"bind",t,e),o.def&&o.def.inserted&&c.push(o));if(c.length){var d=function(){for(var i=0;i<c.length;i++)jt(c[i],"inserted",t,e)};r?Y(t.data.hook||(t.data.hook={}),"insert",d):d()}if(u.length&&Y(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var i=0;i<u.length;i++)jt(u[i],"componentUpdated",t,e)}),!r)for(i in a)l[i]||jt(a[i],"unbind",e,e,s)}function Pt(e,t){var i=Object.create(null);if(!e)return i;var n,o;for(n=0;n<e.length;n++)o=e[n],o.modifiers||(o.modifiers=zo),i[zt(o)]=o,o.def=$(t.$options,"directives",o.name,!0);return i}function zt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function jt(e,t,i,n,o){var r=e.def&&e.def[t];r&&r(i.elm,e,i,n,o)}function Vt(e,t){if(e.data.attrs||t.data.attrs){var i,n,o=t.elm,r=e.data.attrs||{},s=t.data.attrs||{};s.__ob__&&(s=t.data.attrs=c({},s));for(i in s)n=s[i],r[i]!==n&&Gt(o,i,n);Rn&&s.value!==r.value&&Gt(o,"value",s.value);for(i in r)null==s[i]&&(Fo(i)?o.removeAttributeNS(Ao,ko(i)):wo(i)||o.removeAttribute(i))}}function Gt(e,t,i){To(t)?Ro(i)?e.removeAttribute(t):e.setAttribute(t,t):wo(t)?e.setAttribute(t,Ro(i)||"false"===i?"false":"true"):Fo(t)?Ro(i)?e.removeAttributeNS(Ao,ko(t)):e.setAttributeNS(Ao,t,i):Ro(i)?e.removeAttribute(t):e.setAttribute(t,i)}function Wt(e,t){var i=t.elm,n=t.data,o=e.data;if(n.staticClass||n.class||o&&(o.staticClass||o.class)){var r=ft(t),s=i._transitionClasses;s&&(r=ht(r,vt(s))),r!==i._prevClass&&(i.setAttribute("class",r),i._prevClass=r)}}function Ht(e){var t;e[Wo]&&(t=kn?"change":"input",e[t]=[].concat(e[Wo],e[t]||[]),delete e[Wo]),e[Ho]&&(t=xn?"click":"change",e[t]=[].concat(e[Ho],e[t]||[]),delete e[Ho])}function Bt(e,t,i,n){if(i){var o=t,r=bo;t=function(i){null!==(1===arguments.length?o(i):o.apply(null,arguments))&&Yt(e,t,n,r)}}bo.addEventListener(e,t,n)}function Yt(e,t,i,n){(n||bo).removeEventListener(e,t,i)}function Xt(e,t){if(e.data.on||t.data.on){var i=t.data.on||{},n=e.data.on||{};bo=t.elm,Ht(i),B(i,n,Bt,Yt,t.context)}}function qt(e,t){if(e.data.domProps||t.data.domProps){var i,n,o=t.elm,r=e.data.domProps||{},s=t.data.domProps||{};s.__ob__&&(s=t.data.domProps=c({},s));for(i in r)null==s[i]&&(o[i]="");for(i in s)if(n=s[i],"textContent"!==i&&"innerHTML"!==i||(t.children&&(t.children.length=0),n!==r[i]))if("value"===i){o._value=n;var a=null==n?"":String(n);Kt(o,t,a)&&(o.value=a)}else o[i]=n}}function Kt(e,t,i){return!e.composing&&("option"===t.tag||Zt(e,i)||Qt(e,i))}function Zt(e,t){return document.activeElement!==e&&e.value!==t}function Qt(e,i){var n=e.value,o=e._vModifiers;return o&&o.number||"number"===e.type?t(n)!==t(i):o&&o.trim?n.trim()!==i.trim():n!==i}function Jt(e){var t=ei(e.style);return e.staticStyle?c(e.staticStyle,t):t}function ei(e){return Array.isArray(e)?f(e):"string"==typeof e?Xo(e):e}function ti(e,t){var i,n={};if(t)for(var o=e;o.componentInstance;)o=o.componentInstance._vnode,o.data&&(i=Jt(o.data))&&c(n,i);(i=Jt(e.data))&&c(n,i);for(var r=e;r=r.parent;)r.data&&(i=Jt(r.data))&&c(n,i);return n}function ii(e,t){var i=t.data,n=e.data;if(i.staticStyle||i.style||n.staticStyle||n.style){var o,r,s=t.elm,a=e.data.staticStyle,l=e.data.style||{},u=a||l,d=ei(t.data.style)||{};t.data.style=d.__ob__?c({},d):d;var f=ti(t,!0);for(r in u)null==f[r]&&Zo(s,r,"");for(r in f)(o=f[r])!==u[r]&&Zo(s,r,null==o?"":o)}}function ni(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function oi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var i=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";i.indexOf(n)>=0;)i=i.replace(n," ");e.setAttribute("class",i.trim())}}function ri(e){if(e){if("object"===(void 0===e?"undefined":un(e))){var t={};return e.css!==!1&&c(t,tr(e.name||"v")),c(t,e),t}return"string"==typeof e?tr(e):void 0}}function si(e){cr(function(){cr(e)})}function ai(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),ni(e,t)}function li(e,t){e._transitionClasses&&n(e._transitionClasses,t),oi(e,t)}function ci(e,t,i){var n=ui(e,t),o=n.type,r=n.timeout,s=n.propCount;if(!o)return i();var a=o===nr?sr:lr,l=0,c=function(){e.removeEventListener(a,u),i()},u=function(t){t.target===e&&++l>=s&&c()};setTimeout(function(){l<s&&c()},r+1),e.addEventListener(a,u)}function ui(e,t){var i,n=window.getComputedStyle(e),o=n[rr+"Delay"].split(", "),r=n[rr+"Duration"].split(", "),s=di(o,r),a=n[ar+"Delay"].split(", "),l=n[ar+"Duration"].split(", "),c=di(a,l),u=0,d=0;return t===nr?s>0&&(i=nr,u=s,d=r.length):t===or?c>0&&(i=or,u=c,d=l.length):(u=Math.max(s,c),i=u>0?s>c?nr:or:null,d=i?i===nr?r.length:l.length:0),{type:i,timeout:u,propCount:d,hasTransform:i===nr&&ur.test(n[rr+"Property"])}}function di(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return fi(t)+fi(e[i])}))}function fi(e){return 1e3*Number(e.slice(0,-1))}function pi(e,i){var n=e.elm;n._leaveCb&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=ri(e.data.transition);if(o&&!n._enterCb&&1===n.nodeType){for(var r=o.css,s=o.type,a=o.enterClass,l=o.enterToClass,c=o.enterActiveClass,d=o.appearClass,f=o.appearToClass,p=o.appearActiveClass,m=o.beforeEnter,h=o.enter,g=o.afterEnter,_=o.enterCancelled,y=o.beforeAppear,b=o.appear,C=o.afterAppear,E=o.appearCancelled,S=o.duration,w=eo,T=eo.$vnode;T&&T.parent;)T=T.parent,w=T.context;var A=!w._isMounted||!e.isRootInsert;if(!A||b||""===b){var F=A&&d?d:a,k=A&&p?p:c,R=A&&f?f:l,O=A?y||m:m,L=A&&"function"==typeof b?b:h,N=A?C||g:g,x=A?E||_:_,I=t(u(S)?S.enter:S),D=r!==!1&&!Rn,$=vi(L),U=n._enterCb=v(function(){D&&(li(n,R),li(n,k)),U.cancelled?(D&&li(n,F),x&&x(n)):N&&N(n),n._enterCb=null});e.data.show||Y(e.data.hook||(e.data.hook={}),"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,U)}),O&&O(n),D&&(ai(n,F),ai(n,k),si(function(){ai(n,R),li(n,F),U.cancelled||$||(hi(I)?setTimeout(U,I):ci(n,s,U))})),e.data.show&&(i&&i(),L&&L(n,U)),D||$||U()}}}function mi(e,i){function n(){E.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),f&&f(o),y&&(ai(o,l),ai(o,d),si(function(){ai(o,c),li(o,l),E.cancelled||b||(hi(C)?setTimeout(E,C):ci(o,a,E))})),p&&p(o,E),y||b||E())}var o=e.elm;o._enterCb&&(o._enterCb.cancelled=!0,o._enterCb());var r=ri(e.data.transition);if(!r)return i();if(!o._leaveCb&&1===o.nodeType){var s=r.css,a=r.type,l=r.leaveClass,c=r.leaveToClass,d=r.leaveActiveClass,f=r.beforeLeave,p=r.leave,m=r.afterLeave,h=r.leaveCancelled,g=r.delayLeave,_=r.duration,y=s!==!1&&!Rn,b=vi(p),C=t(u(_)?_.leave:_),E=o._leaveCb=v(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),y&&(li(o,c),li(o,d)),E.cancelled?(y&&li(o,l),h&&h(o)):(i(),m&&m(o)),o._leaveCb=null});g?g(n):n()}}function hi(e){return"number"==typeof e&&!isNaN(e)}function vi(e){if(!e)return!1;var t=e.fns;return t?vi(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function gi(e,t){t.data.show||pi(t)}function _i(e,t,i){var n=t.value,o=e.multiple;if(!o||Array.isArray(n)){for(var r,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],o)r=h(n,bi(s))>-1,s.selected!==r&&(s.selected=r);else if(m(bi(s),n))return void(e.selectedIndex!==a&&(e.selectedIndex=a));o||(e.selectedIndex=-1)}}function yi(e,t){for(var i=0,n=t.length;i<n;i++)if(m(bi(t[i]),e))return!1;return!0}function bi(e){return"_value"in e?e._value:e.value}function Ci(e){e.target.composing=!0}function Ei(e){e.target.composing=!1,Si(e.target,"input")}function Si(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function wi(e){return!e.componentInstance||e.data&&e.data.transition?e:wi(e.componentInstance._vnode)}function Ti(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Ti(Z(t.children)):e}function Ai(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var o=i._parentListeners;for(var r in o)t[hn(r)]=o[r];return t}function Fi(e,t){return/\d-keep-alive$/.test(t.tag)?e("keep-alive"):null}function ki(e){for(;e=e.parent;)if(e.data.transition)return!0}function Ri(e,t){return t.key===e.key&&t.tag===e.tag}function Oi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Li(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ni(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,o=t.top-i.top;if(n||o){e.data.moved=!0;var r=e.elm.style;r.transform=r.WebkitTransform="translate("+n+"px,"+o+"px)",r.transitionDuration="0s"}}function xi(e){Ir&&(e._devtoolHook=Ir,Ir.emit("vuex:init",e),Ir.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){Ir.emit("vuex:mutation",e,t)}))}function Ii(e,t){Object.keys(e).forEach(function(i){return t(e[i],i)})}function Di(e){return null!==e&&"object"===(void 0===e?"undefined":un(e))}function $i(e){return e&&"function"==typeof e.then}function Ui(e,t){if(!e)throw new Error("[vuex] "+t)}function Mi(e,t){if(e.update(t),t.modules)for(var i in t.modules){if(!e.getChild(i))return void console.warn("[vuex] trying to add a new module '"+i+"' on hot reloading, manual reload is needed");Mi(e.getChild(i),t.modules[i])}}function Pi(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;ji(e,i,[],e._modules.root,!0),zi(e,i,t)}function zi(e,t,i){var n=e._vm;e.getters={};var o=e._wrappedGetters,r={};Ii(o,function(t,i){r[i]=function(){return t(e)},Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})});var s=Mr.config.silent;Mr.config.silent=!0,e._vm=new Mr({data:{$$state:t},computed:r}),Mr.config.silent=s,e.strict&&Yi(e),n&&(i&&e._withCommit(function(){n._data.$$state=null}),Mr.nextTick(function(){return n.$destroy()}))}function ji(e,t,i,n,o){var r=!i.length,s=e._modules.getNamespace(i);if(s&&(e._modulesNamespaceMap[s]=n),!r&&!o){var a=Xi(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit(function(){Mr.set(a,l,n.state)})}var c=n.context=Vi(e,s,i);n.forEachMutation(function(t,i){Wi(e,s+i,t,c)}),n.forEachAction(function(t,i){Hi(e,s+i,t,c)}),n.forEachGetter(function(t,i){Bi(e,s+i,t,c)}),n.forEachChild(function(n,r){ji(e,t,i.concat(r),n,o)})}function Vi(e,t,i){var n=""===t,o={dispatch:n?e.dispatch:function(i,n,o){var r=qi(i,n,o),s=r.payload,a=r.options,l=r.type;return a&&a.root||(l=t+l,e._actions[l])?e.dispatch(l,s):void console.error("[vuex] unknown local action type: "+r.type+", global type: "+l)},commit:n?e.commit:function(i,n,o){var r=qi(i,n,o),s=r.payload,a=r.options,l=r.type;if(!(a&&a.root||(l=t+l,e._mutations[l])))return void console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+l);e.commit(l,s,a)}};return Object.defineProperties(o,{getters:{get:n?function(){return e.getters}:function(){return Gi(e,t)}},state:{get:function(){return Xi(e.state,i)}}}),o}function Gi(e,t){var i={},n=t.length;return Object.keys(e.getters).forEach(function(o){if(o.slice(0,n)===t){var r=o.slice(n);Object.defineProperty(i,r,{get:function(){return e.getters[o]},enumerable:!0})}}),i}function Wi(e,t,i,n){
(e._mutations[t]||(e._mutations[t]=[])).push(function(e){i(n.state,e)})}function Hi(e,t,i,n){(e._actions[t]||(e._actions[t]=[])).push(function(t,o){var r=i({dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t,o);return $i(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):r})}function Bi(e,t,i,n){if(e._wrappedGetters[t])return void console.error("[vuex] duplicate getter key: "+t);e._wrappedGetters[t]=function(e){return i(n.state,n.getters,e.state,e.getters)}}function Yi(e){e._vm.$watch(function(){return this._data.$$state},function(){Ui(e._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function Xi(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function qi(e,t,i){return Di(e)&&e.type&&(i=t,t=e,e=e.type),Ui("string"==typeof e,"Expects string as the type, but found "+(void 0===e?"undefined":un(e))+"."),{type:e,payload:t,options:i}}function Ki(e){if(Mr)return void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once.");Mr=e,xr(Mr)}function Zi(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function Qi(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function Ji(e,t,i){var n=e._modulesNamespaceMap[i];return n||console.error("[vuex] module namespace not found in "+t+"(): "+i),n}function en(e,t,i){function n(t){var i=f,n=p;return f=p=void 0,_=t,h=e.apply(n,i)}function o(e){return _=e,v=setTimeout(a,t),y?n(e):h}function r(e){var i=e-g,n=e-_,o=t-i;return b?ua(o,m-n):o}function s(e){var i=e-g,n=e-_;return void 0===g||i>=t||i<0||b&&n>=m}function a(){var e=da();if(s(e))return l(e);v=setTimeout(a,r(e))}function l(e){return v=void 0,C&&f?n(e):(f=p=void 0,h)}function c(){void 0!==v&&clearTimeout(v),_=0,f=g=p=v=void 0}function u(){return void 0===v?h:l(da())}function d(){var e=da(),i=s(e);if(f=arguments,p=this,g=e,i){if(void 0===v)return o(g);if(b)return v=setTimeout(a,t),n(g)}return void 0===v&&(v=setTimeout(a,t)),h}var f,p,m,h,v,g,_=0,y=!1,b=!1,C=!0;if("function"!=typeof e)throw new TypeError(Ks);return t=sn(t)||0,nn(i)&&(y=!!i.leading,b="maxWait"in i,m=b?ca(sn(i.maxWait)||0,t):m,C="trailing"in i?!!i.trailing:C),d.cancel=c,d.flush=u,d}function tn(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(Ks);return nn(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),en(e,t,{leading:n,maxWait:t,trailing:o})}function nn(e){var t=void 0===e?"undefined":un(e);return!!e&&("object"==t||"function"==t)}function on(e){return!!e&&"object"==(void 0===e?"undefined":un(e))}function rn(e){return"symbol"==(void 0===e?"undefined":un(e))||on(e)&&la.call(e)==Qs}function sn(e){if("number"==typeof e)return e;if(rn(e))return Zs;if(nn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Js,"");var i=ta.test(e);return i||ia.test(e)?na(e.slice(2),i?2:8):ea.test(e)?Zs:+e}!function(e){function t(){}function i(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,n._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._state?r:s)(t.promise,e._value);var n;try{n=i(e._value)}catch(e){return void s(t.promise,e)}r(t.promise,n)})}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void a(e);if("function"==typeof o)return void c(i(o,t),e)}e._state=1,e._value=t,a(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function c(e,t){var i=!1;try{e(function(e){i||(i=!0,r(t,e))},function(e){i||(i=!0,s(t,e))})}catch(e){if(i)return;i=!0,s(t,e)}}var u=setTimeout;n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,i){var n=new this.constructor(t);return o(this,new l(e,i,n)),n},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,i){function n(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(r,e)},i)}t[r]=s,0==--o&&e(t)}catch(e){i(e)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)n(r,t[r])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,i){i(e)})},n.race=function(e){return new n(function(t,i){for(var n=0,o=e.length;n<o;n++)e[n].then(t,i)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},n._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n._setImmediateFn=function(e){n._immediateFn=e},n._setUnhandledRejectionFn=function(e){n._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this);var an,ln,cn={css:{main:"https://static.filestackapi.com/picker/v3/0.4.1/main.css"}},un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pn=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},mn=(i("slot,component",!0),Object.prototype.hasOwnProperty),hn=s(function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}),vn=s(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),gn=s(function(e){return e.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()}),_n=Object.prototype.toString,yn="[object Object]",bn=function(){return!1},Cn=function(e){return e},En={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:bn,isUnknownElement:bn,getTagNamespace:p,parsePlatformTagName:Cn,mustUseProp:bn,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Sn=Object.freeze({}),wn=/[^\w.$]/,Tn="__proto__"in{},An="undefined"!=typeof window,Fn=An&&window.navigator.userAgent.toLowerCase(),kn=Fn&&/msie|trident/.test(Fn),Rn=Fn&&Fn.indexOf("msie 9.0")>0,On=Fn&&Fn.indexOf("edge/")>0,Ln=Fn&&Fn.indexOf("android")>0,Nn=Fn&&/iphone|ipad|ipod|ios/.test(Fn),xn=Fn&&/chrome\/\d+/.test(Fn)&&!On,In=function(){return void 0===an&&(an=!An&&"undefined"!=typeof global&&"server"===global.process.env.VUE_ENV),an},Dn=An&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,$n="undefined"!=typeof Symbol&&b(Symbol)&&"undefined"!=typeof Reflect&&b(Reflect.ownKeys),Un=function(){function e(){n=!1;var e=i.slice(0);i.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,i=[],n=!1;if("undefined"!=typeof Promise&&b(Promise)){var o=Promise.resolve(),r=function(e){console.error(e)};t=function(){o.then(e).catch(r),Nn&&setTimeout(p)}}else if("undefined"==typeof MutationObserver||!b(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var s=1,a=new MutationObserver(e),l=document.createTextNode(String(s));a.observe(l,{characterData:!0}),t=function(){s=(s+1)%2,l.data=String(s)}}return function(e,o){var r;if(i.push(function(){e&&e.call(o),r&&r(o)}),n||(n=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){r=e})}}();ln="undefined"!=typeof Set&&b(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Mn=p,Pn=0,zn=function(){this.id=Pn++,this.subs=[]};zn.prototype.addSub=function(e){this.subs.push(e)},zn.prototype.removeSub=function(e){n(this.subs,e)},zn.prototype.depend=function(){zn.target&&zn.target.addDep(this)},zn.prototype.notify=function(){for(var e=this.subs.slice(),t=0,i=e.length;t<i;t++)e[t].update()},zn.target=null;var jn=[],Vn=Array.prototype,Gn=Object.create(Vn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Vn[e];_(Gn,e,function(){for(var i=arguments,n=arguments.length,o=new Array(n);n--;)o[n]=i[n];var r,s=t.apply(this,o),a=this.__ob__;switch(e){case"push":r=o;break;case"unshift":r=o;break;case"splice":r=o.slice(2)}return r&&a.observeArray(r),a.dep.notify(),s})});var Wn=Object.getOwnPropertyNames(Gn),Hn={shouldConvert:!0,isSettingProps:!1},Bn=function(e){if(this.value=e,this.dep=new zn,this.vmCount=0,_(e,"__ob__",this),Array.isArray(e)){(Tn?S:w)(e,Gn,Wn),this.observeArray(e)}else this.walk(e)};Bn.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)A(e,t[i],e[t[i]])},Bn.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)T(e[t])};var Yn=En.optionMergeStrategies;Yn.data=function(e,t,i){return i?e||t?function(){var n="function"==typeof t?t.call(i):t,o="function"==typeof e?e.call(i):void 0;return n?O(n,o):o}:void 0:t?"function"!=typeof t?e:e?function(){return O(t.call(this),e.call(this))}:t:e},En._lifecycleHooks.forEach(function(e){Yn[e]=L}),En._assetTypes.forEach(function(e){Yn[e+"s"]=N}),Yn.watch=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var i={};c(i,e);for(var n in t){var o=i[n],r=t[n];o&&!Array.isArray(o)&&(o=[o]),i[n]=o?o.concat(r):[r]}return i},Yn.props=Yn.methods=Yn.computed=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var i=Object.create(null);return c(i,e),c(i,t),i};var Xn=function(e,t){return void 0===t?e:t},qn=function(e,t,i,n,o,r,s){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=o,this.ns=void 0,this.context=r,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},Kn={child:{}};Kn.child.get=function(){return this.componentInstance},Object.defineProperties(qn.prototype,Kn);var Zn,Qn=function(){var e=new qn;return e.text="",e.isComment=!0,e},Jn=s(function(e){var t="~"===e.charAt(0);e=t?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:t,capture:i}}),eo=null,to=[],io={},no=!1,oo=!1,ro=0,so=0,ao=function(e,t,i,n){this.vm=e,e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++so,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ln,this.newDepIds=new ln,this.expression="","function"==typeof t?this.getter=t:(this.getter=y(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ao.prototype.get=function(){C(this);var e,t=this.vm;if(this.user)try{e=this.getter.call(t,t)}catch(e){j(e,t,'getter for watcher "'+this.expression+'"')}else e=this.getter.call(t,t);return this.deep&&he(e),E(),this.cleanupDeps(),e},ao.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ao.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var i=e.deps[t];e.newDepIds.has(i.id)||i.removeSub(e)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ao.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():me(this)},ao.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){j(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ao.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ao.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ao.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||n(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var lo=new ln,co={enumerable:!0,configurable:!0,get:p,set:p},uo={lazy:!0},fo={init:function(e,t,i,n){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=Re(e,eo,i,n)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var o=e;fo.prepatch(o,o)}},prepatch:function(e,t){var i=t.componentOptions;ae(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){e.componentInstance._isMounted||(e.componentInstance._isMounted=!0,de(e.componentInstance,"mounted")),e.data.keepAlive&&ce(e.componentInstance,!0)},destroy:function(e){e.componentInstance._isDestroyed||(e.data.keepAlive?ue(e.componentInstance,!0):e.componentInstance.$destroy())}},po=Object.keys(fo),mo=1,ho=2,vo=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=vo++,t._isVue=!0,e&&e._isComponent?Ze(t,e):t.$options=D(Qe(t.constructor),e||{},t),t._renderProxy=t,t._self=t,re(t),Q(t),Xe(t),de(t,"beforeCreate"),Ke(t),_e(t),qe(t),de(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(tt),function(e){var t={};t.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=F,e.prototype.$delete=k,e.prototype.$watch=function(e,t,i){var n=this;i=i||{},i.user=!0;var o=new ao(n,e,t,i);return i.immediate&&t.call(n,o.value),function(){o.teardown()}}}(tt),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this,o=this;if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)n.$on(e[r],i);else(o._events[e]||(o._events[e]=[])).push(i),t.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,t){function i(){n.$off(e,i),t.apply(n,arguments)}var n=this;return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var i=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var o=0,r=e.length;o<r;o++)i.$off(e[o],t);return n}var s=n._events[e];if(!s)return n;if(1===arguments.length)return n._events[e]=null,n;for(var a,l=s.length;l--;)if((a=s[l])===t||a.fn===t){s.splice(l,1);break}return n},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?l(i):i;for(var n=l(arguments,1),o=0,r=i.length;o<r;o++)i[o].apply(t,n)}return t}}(tt),function(e){e.prototype._update=function(e,t){var i=this;i._isMounted&&de(i,"beforeUpdate");var n=i.$el,o=i._vnode,r=eo;eo=i,i._vnode=e,i.$el=o?i.__patch__(o,e):i.__patch__(i.$el,e,t,!1,i.$options._parentElm,i.$options._refElm),eo=r,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){de(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||n(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,de(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.__patch__(e._vnode,null)}}}(tt),function(i){i.prototype.$nextTick=function(e){return Un(e,this)},i.prototype._render=function(){var e=this,t=e.$options,i=t.render,n=t.staticRenderFns,o=t._parentVnode;if(e._isMounted)for(var r in e.$slots)e.$slots[r]=W(e.$slots[r]);e.$scopedSlots=o&&o.data.scopedSlots||Sn,n&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=o;var s;try{s=i.call(e._renderProxy,e.$createElement)}catch(t){j(t,e,"render function"),s=e._vnode}return s instanceof qn||(s=Qn()),s.parent=o,s},i.prototype._o=He,i.prototype._n=t,i.prototype._s=e,i.prototype._l=Pe,i.prototype._t=ze,i.prototype._q=m,i.prototype._i=h,i.prototype._m=We,i.prototype._f=je,i.prototype._k=Ve,i.prototype._b=Ge,i.prototype._v=V,i.prototype._e=Qn,i.prototype._u=oe}(tt);var go=[String,RegExp],_o={name:"keep-alive",abstract:!0,props:{include:go,exclude:go},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)dt(e.cache[t])},watch:{include:function(e){ut(this.cache,function(t){return ct(e,t)})},exclude:function(e){ut(this.cache,function(t){return!ct(e,t)})}},render:function(){var e=Z(this.$slots.default),t=e&&e.componentOptions;if(t){var i=lt(t);if(i&&(this.include&&!ct(this.include,i)||this.exclude&&ct(this.exclude,i)))return e;var n=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[n]?e.componentInstance=this.cache[n].componentInstance:this.cache[n]=e,e.data.keepAlive=!0}return e}},yo={KeepAlive:_o};!function(e){var t={};t.get=function(){return En},Object.defineProperty(e,"config",t),e.util={warn:Mn,extend:c,mergeOptions:D,defineReactive:A},e.set=F,e.delete=k,e.nextTick=Un,e.options=Object.create(null),En._assetTypes.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,c(e.options.components,yo),it(e),nt(e),ot(e),at(e)}(tt),Object.defineProperty(tt.prototype,"$isServer",{get:In}),tt.version="2.2.4";var bo,Co,Eo=i("input,textarea,option,select"),So=function(e,t,i){return"value"===i&&Eo(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},wo=i("contenteditable,draggable,spellcheck"),To=i("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ao="http://www.w3.org/1999/xlink",Fo=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},ko=function(e){return Fo(e)?e.slice(6,e.length):""},Ro=function(e){return null==e||e===!1},Oo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Lo=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),No=i("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xo=function(e){return Lo(e)||No(e)},Io=Object.create(null),Do=Object.freeze({createElement:bt,createElementNS:Ct,createTextNode:Et,createComment:St,insertBefore:wt,removeChild:Tt,appendChild:At,parentNode:Ft,nextSibling:kt,tagName:Rt,setTextContent:Ot,setAttribute:Lt}),$o={create:function(e,t){Nt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Nt(e,!0),Nt(t))},destroy:function(e){Nt(e,!0)}},Uo=new qn("",{},[]),Mo=["create","activate","update","remove","destroy"],Po={create:Ut,update:Ut,destroy:function(e){Ut(e,Uo)}},zo=Object.create(null),jo=[$o,Po],Vo={create:Vt,update:Vt},Go={create:Wt,update:Wt},Wo="__r",Ho="__c",Bo={create:Xt,update:Xt},Yo={create:qt,update:qt},Xo=s(function(e){var t={};return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var i=e.split(/:(.+)/);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}),qo=/^--/,Ko=/\s*!important$/,Zo=function(e,t,i){qo.test(t)?e.style.setProperty(t,i):Ko.test(i)?e.style.setProperty(t,i.replace(Ko,""),"important"):e.style[Jo(t)]=i},Qo=["Webkit","Moz","ms"],Jo=s(function(e){if(Co=Co||document.createElement("div"),"filter"!==(e=hn(e))&&e in Co.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Qo.length;i++){var n=Qo[i]+t;if(n in Co.style)return n}}),er={create:ii,update:ii},tr=s(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ir=An&&!Rn,nr="transition",or="animation",rr="transition",sr="transitionend",ar="animation",lr="animationend";ir&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(rr="WebkitTransition",sr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ar="WebkitAnimation",lr="webkitAnimationEnd"));var cr=An&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ur=/\b(transform|all)(,|$)/,dr=An?{create:gi,activate:gi,remove:function(e,t){e.data.show?t():mi(e,t)}}:{},fr=[Vo,Go,Bo,Yo,er,dr],pr=fr.concat(jo),mr=function(e){function t(e){return new qn(F.tagName(e).toLowerCase(),{},[],void 0,e)}function n(e,t){function i(){0==--i.listeners&&o(e)}return i.listeners=t,i}function o(e){var t=F.parentNode(e);t&&F.removeChild(t,e)}function s(e,t,i,n,o){if(e.isRootInsert=!o,!a(e,t,i,n)){var r=e.data,s=e.children,l=e.tag;It(l)?(e.elm=e.ns?F.createElementNS(e.ns,l):F.createElement(l,e),m(e),d(e,s,t),It(r)&&p(e,t),u(i,e.elm,n)):e.isComment?(e.elm=F.createComment(e.text),u(i,e.elm,n)):(e.elm=F.createTextNode(e.text),u(i,e.elm,n))}}function a(e,t,i,n){var o=e.data;if(It(o)){var r=It(e.componentInstance)&&o.keepAlive;if(It(o=o.hook)&&It(o=o.init)&&o(e,!1,i,n),It(e.componentInstance))return l(e,t),r&&c(e,t,i,n),!0}}function l(e,t){e.data.pendingInsert&&t.push.apply(t,e.data.pendingInsert),e.elm=e.componentInstance.$el,f(e)?(p(e,t),m(e)):(Nt(e),t.push(e))}function c(e,t,i,n){for(var o,r=e;r.componentInstance;)if(r=r.componentInstance._vnode,It(o=r.data)&&It(o=o.transition)){for(o=0;o<T.activate.length;++o)T.activate[o](Uo,r);t.push(r);break}u(i,e.elm,n)}function u(e,t,i){e&&(i?F.insertBefore(e,t,i):F.appendChild(e,t))}function d(e,t,i){if(Array.isArray(t))for(var n=0;n<t.length;++n)s(t[n],i,e.elm,null,!0);else r(e.text)&&F.appendChild(e.elm,F.createTextNode(e.text))}function f(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return It(e.tag)}function p(e,t){for(var i=0;i<T.create.length;++i)T.create[i](Uo,e);S=e.data.hook,It(S)&&(S.create&&S.create(Uo,e),S.insert&&t.push(e))}function m(e){for(var t,i=e;i;)It(t=i.context)&&It(t=t.$options._scopeId)&&F.setAttribute(e.elm,t,""),i=i.parent;It(t=eo)&&t!==e.context&&It(t=t.$options._scopeId)&&F.setAttribute(e.elm,t,"")}function h(e,t,i,n,o,r){for(;n<=o;++n)s(i[n],r,e,t)}function v(e){var t,i,n=e.data;if(It(n))for(It(t=n.hook)&&It(t=t.destroy)&&t(e),t=0;t<T.destroy.length;++t)T.destroy[t](e);if(It(t=e.children))for(i=0;i<e.children.length;++i)v(e.children[i])}function g(e,t,i,n){for(;i<=n;++i){var r=t[i];It(r)&&(It(r.tag)?(_(r),v(r)):o(r.elm))}}function _(e,t){if(t||It(e.data)){var i=T.remove.length+1;for(t?t.listeners+=i:t=n(e.elm,i),It(S=e.componentInstance)&&It(S=S._vnode)&&It(S.data)&&_(S,t),S=0;S<T.remove.length;++S)T.remove[S](e,t);It(S=e.data.hook)&&It(S=S.remove)?S(e,t):t()}else o(e.elm)}function y(e,t,i,n,o){for(var r,a,l,c,u=0,d=0,f=t.length-1,p=t[0],m=t[f],v=i.length-1,_=i[0],y=i[v],C=!o;u<=f&&d<=v;)xt(p)?p=t[++u]:xt(m)?m=t[--f]:Dt(p,_)?(b(p,_,n),p=t[++u],_=i[++d]):Dt(m,y)?(b(m,y,n),m=t[--f],y=i[--v]):Dt(p,y)?(b(p,y,n),C&&F.insertBefore(e,p.elm,F.nextSibling(m.elm)),p=t[++u],y=i[--v]):Dt(m,_)?(b(m,_,n),C&&F.insertBefore(e,m.elm,p.elm),m=t[--f],_=i[++d]):(xt(r)&&(r=$t(t,u,f)),a=It(_.key)?r[_.key]:null,xt(a)?(s(_,n,e,p.elm),_=i[++d]):(l=t[a],Dt(l,_)?(b(l,_,n),t[a]=void 0,C&&F.insertBefore(e,_.elm,p.elm),_=i[++d]):(s(_,n,e,p.elm),_=i[++d])));u>f?(c=xt(i[v+1])?null:i[v+1].elm,h(e,c,i,d,v,n)):d>v&&g(e,t,u,f)}function b(e,t,i,n){if(e!==t){if(t.isStatic&&e.isStatic&&t.key===e.key&&(t.isCloned||t.isOnce))return t.elm=e.elm,void(t.componentInstance=e.componentInstance);var o,r=t.data,s=It(r);s&&It(o=r.hook)&&It(o=o.prepatch)&&o(e,t);var a=t.elm=e.elm,l=e.children,c=t.children;if(s&&f(t)){for(o=0;o<T.update.length;++o)T.update[o](e,t);It(o=r.hook)&&It(o=o.update)&&o(e,t)}xt(t.text)?It(l)&&It(c)?l!==c&&y(a,l,c,i,n):It(c)?(It(e.text)&&F.setTextContent(a,""),h(a,null,c,0,c.length-1,i)):It(l)?g(a,l,0,l.length-1):It(e.text)&&F.setTextContent(a,""):e.text!==t.text&&F.setTextContent(a,t.text),s&&It(o=r.hook)&&It(o=o.postpatch)&&o(e,t)}}function C(e,t,i){if(i&&e.parent)e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}function E(e,t,i){t.elm=e;var n=t.tag,o=t.data,r=t.children;if(It(o)&&(It(S=o.hook)&&It(S=S.init)&&S(t,!0),It(S=t.componentInstance)))return l(t,i),!0;if(It(n)){if(It(r))if(e.hasChildNodes()){for(var s=!0,a=e.firstChild,c=0;c<r.length;c++){if(!a||!E(a,r[c],i)){s=!1;break}a=a.nextSibling}if(!s||a)return!1}else d(t,r,i);if(It(o))for(var u in o)if(!k(u)){p(t,i);break}}else e.data!==t.text&&(e.data=t.text);return!0}var S,w,T={},A=e.modules,F=e.nodeOps;for(S=0;S<Mo.length;++S)for(T[Mo[S]]=[],w=0;w<A.length;++w)void 0!==A[w][Mo[S]]&&T[Mo[S]].push(A[w][Mo[S]]);var k=i("attrs,style,class,staticClass,staticStyle,key");return function(e,i,n,o,r,a){if(!i)return void(e&&v(e));var l=!1,c=[];if(e){var u=It(e.nodeType);if(!u&&Dt(e,i))b(e,i,c,o);else{if(u){if(1===e.nodeType&&e.hasAttribute("server-rendered")&&(e.removeAttribute("server-rendered"),n=!0),n&&E(e,i,c))return C(i,c,!0),e;e=t(e)}var d=e.elm,p=F.parentNode(d);if(s(i,c,d._leaveCb?null:p,F.nextSibling(d)),i.parent){for(var m=i.parent;m;)m.elm=i.elm,m=m.parent;if(f(i))for(var h=0;h<T.create.length;++h)T.create[h](Uo,i.parent)}null!==p?g(p,[e],0,0):It(e.tag)&&v(e)}}else l=!0,s(i,c,r,a);return C(i,c,l),i.elm}}({nodeOps:Do,modules:pr});Rn&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Si(e,"input")});var hr={inserted:function(e,t,i){if("select"===i.tag){var n=function(){_i(e,t,i.context)};n(),(kn||On)&&setTimeout(n,0)}else"textarea"!==i.tag&&"text"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(Ln||(e.addEventListener("compositionstart",Ci),e.addEventListener("compositionend",Ei)),Rn&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){_i(e,t,i.context);(e.multiple?t.value.some(function(t){return yi(t,e.options)}):t.value!==t.oldValue&&yi(t.value,e.options))&&Si(e,"change")}}},vr={bind:function(e,t,i){var n=t.value;i=wi(i);var o=i.data&&i.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&o&&!Rn?(i.data.show=!0,pi(i,function(){e.style.display=r})):e.style.display=n?r:"none"},update:function(e,t,i){var n=t.value;n!==t.oldValue&&(i=wi(i),i.data&&i.data.transition&&!Rn?(i.data.show=!0,n?pi(i,function(){e.style.display=e.__vOriginalDisplay}):mi(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,o){o||(e.style.display=e.__vOriginalDisplay)}},gr={model:hr,show:vr},_r={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},yr={name:"transition",props:_r,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(function(e){return e.tag}),i.length)){var n=this.mode,o=i[0];if(ki(this.$vnode))return o;var s=Ti(o);if(!s)return o;if(this._leaving)return Fi(e,o);var a="__transition-"+this._uid+"-";s.key=null==s.key?a+s.tag:r(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var l=(s.data||(s.data={})).transition=Ai(this),u=this._vnode,d=Ti(u);if(s.data.directives&&s.data.directives.some(function(e){return"show"===e.name})&&(s.data.show=!0),d&&d.data&&!Ri(s,d)){var f=d&&(d.data.transition=c({},l));if("out-in"===n)return this._leaving=!0,Y(f,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Fi(e,o);if("in-out"===n){var p,m=function(){p()};Y(l,"afterEnter",m),Y(l,"enterCancelled",m),Y(f,"delayLeave",function(e){p=e})}}return o}}},br=c({tag:String,moveClass:String},_r);delete br.mode;var Cr={props:br,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,o=this.$slots.default||[],r=this.children=[],s=Ai(this),a=0;a<o.length;a++){var l=o[a];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(r.push(l),i[l.key]=l,(l.data||(l.data={})).transition=s)}if(n){for(var c=[],u=[],d=0;d<n.length;d++){var f=n[d];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),i[f.key]?c.push(f):u.push(f)}this.kept=e(t,null,c),this.removed=u}return e(t,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(Oi),e.forEach(Li),e.forEach(Ni);var i=document.body;i.offsetHeight;e.forEach(function(e){if(e.data.moved){var i=e.elm,n=i.style;ai(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(sr,i._moveCb=function e(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(sr,e),i._moveCb=null,li(i,t))})}})}},methods:{hasMove:function(e,t){if(!ir)return!1;if(null!=this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){oi(i,e)}),ni(i,t),i.style.display="none",this.$el.appendChild(i);var n=ui(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}},Er={Transition:yr,TransitionGroup:Cr};tt.config.mustUseProp=So,tt.config.isReservedTag=xo,tt.config.getTagNamespace=gt,tt.config.isUnknownElement=_t,c(tt.options.directives,gr),c(tt.options.components,Er),tt.prototype.__patch__=An?mr:p,tt.prototype.$mount=function(e,t){return e=e&&An?yt(e):void 0,se(this,e,t)},setTimeout(function(){En.devtools&&Dn&&Dn.emit("init",tt)},0);var Sr="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wr=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){"use strict";var i=null,n={install:function(e){var t,n=e.version[0];i||(i=new e({data:function(){return{current:"",locales:{}}},computed:{lang:function(){return this.current},locale:function(){return this.locales[this.current]?this.locales[this.current]:null}},methods:{setLang:function(e){this.current!==e&&(""===this.current?this.$emit("language:init",e):this.$emit("language:changed",e)),this.current=e,this.$emit("language:modified",e)},setLocales:function(t){if(t){var i=Object.create(this.locales);for(var n in t)i[n]||(i[n]={}),e.util.extend(i[n],t[n]);this.locales=Object.create(i),this.$emit("locales:loaded",t)}},text:function(e){
return this.locale&&this.locale[e]?this.locale[e]:e}}}),e.prototype.$translate=i),e.mixin((t={},t["1"===n?"init":"beforeCreate"]=function(){this.$translate.setLocales(this.$options.locales)},t.methods={t:function(e){return this.$translate.text(e)}},t.directives={translate:function(e){e.$translateKey||(e.$translateKey=e.innerText);var t=this.$translate.text(e.$translateKey);e.innerText=t}.bind(i)},t)),e.locales=function(e){i.$translate.setLocales(e)}}};e.exports=n}),Tr={init:function(){window.filestackInternals.logger.working=!1},isWorking:function(){return window.filestackInternals.logger.working},on:function(){window.filestackInternals.logger.working=!0},off:function(){window.filestackInternals.logger.working=!1}},Ar=function e(t,i){var n=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=[].concat(n).map(function(e){return"object"===(void 0===e?"undefined":un(e))?JSON.stringify(e,function(e,t){if("function"==typeof t){if("json"===e)try{return t()}catch(e){}return"[Function]"}return t instanceof File?"[File name: "+t.name+", mimetype: "+t.type+", size: "+t.size+"]":t},2):e});if(i.isWorking()){var s;(s=console).log.apply(s,["["+t+"]"].concat(pn(r)))}};return n.context=function(n){return e(t+"]["+n,i)},n.on=i.on,n.off=i.off,n}("filestack",Tr);!function(){var e=void 0;"object"===("undefined"==typeof window?"undefined":un(window))&&(e=window.filestackInternals,e||(e={},window.filestackInternals=e),e.logger||(e.logger=Ar,Tr.init())),e}();var Fr=function(){var e=void 0;return"object"===("undefined"==typeof window?"undefined":un(window))&&(e=window.filestackInternals,e||(e={},window.filestackInternals=e),e.loader||(e.loader={modules:{}})),e}(),kr=Fr.loader.modules,Rr=function(e){var t=kr[e];if(t||(kr[e]={},t=kr[e]),t.instance)return Promise.resolve(t.instance);if(t.promise)return t.promise;var i=new Promise(function(i){var n=function(){t.resolvePromise=i;var n=document.createElement("script");n.src=e,document.body.appendChild(n)};!function e(){"complete"===document.readyState?n():setTimeout(e,50)}()});return t.promise=i,i},Or=function(e){var t=document.getElementsByTagName("script"),i=t[t.length-1],n=i.getAttribute("src"),o=kr[n];o.resolvePromise&&(o.instance=e,o.resolvePromise(e),delete o.promise,delete o.resolvePromise)},Lr=function(e){return null!==document.querySelector('link[href="'+e+'"]')?Promise.resolve():new Promise(function(t){var i=document.getElementsByTagName("head")[0],n=document.createElement("link"),o=function e(){t(),n.removeEventListener("load",e)};n.rel="stylesheet",n.href=e,n.addEventListener("load",o),i.appendChild(n)})},Nr={registerReadyModule:Or,loadModule:Rr,loadCss:Lr},xr=function(e){function t(){var e=this.$options;e.store?this.$store=e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}if(Number(e.version.split(".")[0])>=2){var i=e.config._lifecycleHooks.indexOf("init")>-1;e.mixin(i?{init:t}:{beforeCreate:t})}else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,n.call(this,e)}}},Ir="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Dr=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e},$r={state:{},namespaced:{}};$r.state.get=function(){return this._rawModule.state||{}},$r.namespaced.get=function(){return!!this._rawModule.namespaced},Dr.prototype.addChild=function(e,t){this._children[e]=t},Dr.prototype.removeChild=function(e){delete this._children[e]},Dr.prototype.getChild=function(e){return this._children[e]},Dr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Dr.prototype.forEachChild=function(e){Ii(this._children,e)},Dr.prototype.forEachGetter=function(e){this._rawModule.getters&&Ii(this._rawModule.getters,e)},Dr.prototype.forEachAction=function(e){this._rawModule.actions&&Ii(this._rawModule.actions,e)},Dr.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ii(this._rawModule.mutations,e)},Object.defineProperties(Dr.prototype,$r);var Ur=function(e){var t=this;this.root=new Dr(e,!1),e.modules&&Ii(e.modules,function(e,i){t.register([i],e,!1)})};Ur.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},Ur.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")},"")},Ur.prototype.update=function(e){Mi(this.root,e)},Ur.prototype.register=function(e,t,i){var n=this;void 0===i&&(i=!0);var o=this.get(e.slice(0,-1)),r=new Dr(t,i);o.addChild(e[e.length-1],r),t.modules&&Ii(t.modules,function(t,o){n.register(e.concat(o),t,i)})},Ur.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];t.getChild(i).runtime&&t.removeChild(i)};var Mr,Pr=function(e){var t=this;void 0===e&&(e={}),Ui(Mr,"must call Vue.use(Vuex) before creating a store instance."),Ui("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var i=e.state;void 0===i&&(i={});var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ur(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Mr;var r=this,s=this,a=s.dispatch,l=s.commit;this.dispatch=function(e,t){return a.call(r,e,t)},this.commit=function(e,t,i){return l.call(r,e,t,i)},this.strict=o,ji(this,i,[],this._modules.root),zi(this,i),n.concat(xi).forEach(function(e){return e(t)})},zr={state:{}};zr.state.get=function(){return this._vm._data.$$state},zr.state.set=function(e){Ui(!1,"Use store.replaceState() to explicit replace store state.")},Pr.prototype.commit=function(e,t,i){var n=this,o=qi(e,t,i),r=o.type,s=o.payload,a=o.options,l={type:r,payload:s},c=this._mutations[r];if(!c)return void console.error("[vuex] unknown mutation type: "+r);this._withCommit(function(){c.forEach(function(e){e(s)})}),this._subscribers.forEach(function(e){return e(l,n.state)}),a&&a.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools")},Pr.prototype.dispatch=function(e,t){var i=qi(e,t),n=i.type,o=i.payload,r=this._actions[n];return r?r.length>1?Promise.all(r.map(function(e){return e(o)})):r[0](o):void console.error("[vuex] unknown action type: "+n)},Pr.prototype.subscribe=function(e){var t=this._subscribers;return t.indexOf(e)<0&&t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}},Pr.prototype.watch=function(e,t,i){var n=this;return Ui("function"==typeof e,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return e(n.state,n.getters)},t,i)},Pr.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},Pr.prototype.registerModule=function(e,t){"string"==typeof e&&(e=[e]),Ui(Array.isArray(e),"module path must be a string or an Array."),this._modules.register(e,t),ji(this,this.state,e,this._modules.get(e)),zi(this,this.state)},Pr.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),Ui(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var i=Xi(t.state,e.slice(0,-1));Mr.delete(i,e[e.length-1])}),Pi(this)},Pr.prototype.hotUpdate=function(e){this._modules.update(e),Pi(this,!0)},Pr.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Pr.prototype,zr),"undefined"!=typeof window&&window.Vue&&Ki(window.Vue);var jr=Qi(function(e,t){var i={};return Zi(t).forEach(function(t){var n=t.key,o=t.val;i[n]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var n=Ji(this.$store,"mapState",e);if(!n)return;t=n.context.state,i=n.context.getters}return"function"==typeof o?o.call(this,t,i):t[o]},i[n].vuex=!0}),i}),Vr=Qi(function(e,t){var i={};return Zi(t).forEach(function(t){var n=t.key,o=t.val;o=e+o,i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];if(!e||Ji(this.$store,"mapMutations",e))return this.$store.commit.apply(this.$store,[o].concat(t))}}),i}),Gr=Qi(function(e,t){var i={};return Zi(t).forEach(function(t){var n=t.key,o=t.val;o=e+o,i[n]=function(){if(!e||Ji(this.$store,"mapGetters",e))return o in this.$store.getters?this.$store.getters[o]:void console.error("[vuex] unknown getter: "+o)},i[n].vuex=!0}),i}),Wr=Qi(function(e,t){var i={};return Zi(t).forEach(function(t){var n=t.key,o=t.val;o=e+o,i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];if(!e||Ji(this.$store,"mapActions",e))return this.$store.dispatch.apply(this.$store,[o].concat(t))}}),i}),Hr={Store:Pr,install:Ki,version:"2.2.1",mapState:jr,mapMutations:Vr,mapGetters:Gr,mapActions:Wr},Br=function(e){return"function"==typeof e.getAsEntry?e.getAsEntry():"function"==typeof e.webkitGetAsEntry?e.webkitGetAsEntry():void 0},Yr=function(e){return[".DS_Store"].indexOf(e)===-1},Xr=function(e){for(var t=[],i=[],n=0;n<e.length;n+=1){var o=e[n];if("file"===o.kind&&o.type&&"application/x-moz-file"!==o.type){var r=o.getAsFile();r&&(t.push(r),i.push(Promise.resolve()))}else if("file"===o.kind){var s=Br(o);s&&i.push(function e(i){return new Promise(function(n){i.isDirectory?i.createReader().readEntries(function(t){var i=t.map(function(t){return e(t)});Promise.all(i).then(n)}):i.isFile&&i.file(function(e){Yr(e.name)&&t.push(e),n()})})}(s))}else"string"===o.kind&&"text/uri-list"===o.type&&i.push(function(e){return new Promise(function(i){e.getAsString(function(e){t.push({url:e,source:"dragged-from-web"}),i()})})}(o))}return Promise.all(i).then(function(){return t})},qr=function(e){return new Promise(function(t){for(var i=[],n=0;n<e.length;n+=1)i.push(e[n]);t(i)})},Kr=function(e){return e.items?Xr(e.items):e.files?qr(e.files):Promise.resolve([])},Zr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.fileAboutToBeDropped,expression:"fileAboutToBeDropped"}],ref:"dropZone",staticClass:"fsp-dropzone-overlay"},[i("div",{staticClass:"fsp-dropzone-overlay__text"})])},staticRenderFns:[],data:function(){return{fileAboutToBeDropped:!1}},methods:fn({},Hr.mapActions(["addFile","updateSelectLabelActive"]),{dragenter:function(e){e.preventDefault(),this.fileAboutToBeDropped=!0,this.updateSelectLabelActive(!0)},dragover:function(e){e.preventDefault()},dragleave:function(){this.fileAboutToBeDropped=!1,this.updateSelectLabelActive(!1)},drop:function(e){var t=this;e.preventDefault(),this.fileAboutToBeDropped=!1,Kr(e.dataTransfer).then(function(e){e.forEach(function(e){t.addFile(e)})})},paste:function(e){var t=this;Kr(e.clipboardData).then(function(e){e.forEach(function(e){e.name="pasted file",t.addFile(e)})})}}),mounted:function(){var e=this.$root.$el,t=this.$refs.dropZone;e.addEventListener("dragenter",this.dragenter,!1),t.addEventListener("dragover",this.dragover,!1),t.addEventListener("dragleave",this.dragleave,!1),t.addEventListener("drop",this.drop,!1),e.addEventListener("paste",this.paste,!1)}},Qr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.notifications.length>0?i("div",{staticClass:"fsp-notifications__container"},[i("div",{staticClass:"fsp-notifications__message"},[e._v(e._s(e.mostRecentNotification.message))]),i("span",{staticClass:"fsp-icon fsp-notifications__close-button",on:{click:e.removeAllNotifications}})]):e._e()},staticRenderFns:[],computed:fn({},Hr.mapGetters(["notifications"]),{mostRecentNotification:function(){return this.notifications[this.notifications.length-1]}}),methods:fn({},Hr.mapActions(["removeAllNotifications"]))},Jr=[{name:"local_file_system",label:"My Device",ui:"local"},{name:"dropbox",label:"Dropbox",ui:"cloud"},{name:"evernote",label:"Evernote",ui:"cloud"},{name:"facebook",label:"Facebook",ui:"cloud"},{name:"flickr",label:"Flickr",ui:"cloud"},{name:"instagram",label:"Instagram",ui:"cloud"},{name:"box",label:"Box",ui:"cloud"},{name:"googledrive",label:"Google Drive",ui:"cloud"},{name:"github",label:"Github",ui:"cloud"},{name:"gmail",label:"Gmail",ui:"cloud"},{name:"picasa",label:"Google Photos",ui:"cloud"},{name:"onedrive",label:"OneDrive",ui:"cloud"},{name:"clouddrive",label:"Cloud Drive",ui:"cloud"},{name:"imagesearch",label:"Web Search",ui:"imagesearch"},{name:"source-url",label:"Link (URL)",ui:"source-url",layout_view:"list"}],es=function(e){var t=void 0;if(Jr.forEach(function(i){i.name===e&&(t=i)}),!t)throw new Error('Unknown source "'+e+'"');return t},ts={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"fsp-picker__close-button fsp-icon--close-modal",on:{click:e.closePicker}})},staticRenderFns:[],methods:{closePicker:function(){this.$root.$destroy()}}},is=function(e){return e.indexOf("/")!==-1},ns=function(e,t){return e.mimetype&&"image/*"===t?e.mimetype.indexOf("image/")!==-1:e.mimetype&&"video/*"===t?e.mimetype.indexOf("video/")!==-1:e.mimetype&&"audio/*"===t?e.mimetype.indexOf("audio/")!==-1:e.mimetype===t},os=function(e){return/\.\w+$/.exec(e)[0]},rs=function(e){return e.replace(".","")},ss=function(e,t){return rs(os(e.name))===rs(t)},as=function(e,t){return void 0===t||t.some(function(t){return is(t)?ns(e,t):ss(e,t)})},ls=function(e){var t={filename:e.name,mimetype:e.mimetype||e.type,size:e.size,source:e.source,url:e.url,handle:e.handle};return e.status&&(t.status=e.status),e.key&&(t.key=e.key),e.container&&(t.container=e.container),t},cs=function(e){return e.map(ls)},us=function(e){return e>=1048576?Math.round(e/1048576)+"MB":e>=1024?Math.round(e/1024)+"KB":e+"B"},ds=function(e){if(e.name.length<45)return e.name;var t=e.name.split(".");if(2===t.length){return t[0].substring(0,42)+".."+"."+t[1]}if(t.length>2){return e.name.substring(0,42)+".."+"."+t[t.length-1]}return e.name.substring(0,42)+"..."},fs=function(){return Math.round(255*Math.random()).toString(16)},ps=function(e){for(var t="";t.length<2*e;)t+=fs();return t},ms={Add:"Tilføj",My:"Min",Connect:"Forbind",View:"Vis",Upload:"Upload",Filter:"Filtrer",Images:"Billeder",of:"af",Loading:"Indlæser",Revert:"Gør om",Edit:"Rediger",More:"Mere",Uploaded:"Uploaded","A new page will open to connect your account.":"En ny side vil åbne for at forbinde med din konto","My Device":"Min enhed","or Drag and Drop, Copy and Paste Files":"Eller træk og slip, kopier og indsæt filer","Pick Your Files":"Vælg dine filer","Select Files to Upload":"Vælg filer til upload","Selected Files":"Valgte filer","Select Files from":"Vælg filer fra","We only extract images and never modify or delete them.":"Vi hiver kun billeder og modificerer eller sletter dem aldrig","You need to authenticate with ":"Du skal godkende med ","Search images":"Søg billeder","Sign Out":"Log ud","Select From":"Vælg fra","View/Edit Selected":"Vis/rediger valgte","Deselect All":"Fravælg alle","Files & Folders":"Filer og foldere","Edited Images":"Redigerede filer","Go Back":"Gå tilbage","No search results found for":"Ingen resultater fundet for","Please select":"Vælg venligst","more file":"fil mere","more files":"flere filer","File {displayName} is not an accepted file type. The accepted file types are {types}":"Filen {displayName} er ikke i et acceptabelt format. De accepterede formater er {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":" Filen {displayName} er for stor. Den accepterede filstørrelse er {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" Vores filstørrelse er begrænset til {maxFiles} {filesText}"},hs={Add:"Hinzufügen",My:"Mein",Connect:"Verbinden mit",View:"Aussicht",Upload:"Hochladen",Filter:"Filtern",Images:"Bilder",of:"von",Loading:"Laden",Revert:"Rückgängig",Edit:"Bearbeiten",More:"Mehr",Uploaded:"Hochgeladen","A new page will open to connect your account.":"Eine neue Seite wird geöffnet, um Ihr Konto zu verbinden","My Device":"Mein Gerät","or Drag and Drop, Copy and Paste Files":"oder ziehen, kopieren und Einfügen von Dateien","Pick Your Files":"Wählen Sie Ihre Dateien","Select Files to Upload":"Wählen Sie Dateien hochladen","Selected Files":"Ausgewählten Dateien","Select Files from":"Wählen Sie Dateien aus","We only extract images and never modify or delete them.":"Wir extrahieren Bilder nur und modifizieren oder löschen sie niemals","You need to authenticate with ":"Sie müssen sich mit anmelden ","Search images":"Suche bilder","Sign Out":"Abmelden","Select From":"Wählen Sie aus","View/Edit Selected":"Anzeigen/Bearbeiten ausgewählt","Deselect All":"Deaktivieren Sie alle","Files & Folders":"Dateien und Ordner","Edited Images":"Bearbeitete Bilder","Go Back":"Zurück","No search results found for":"Keine Suchergebnisse gefunden für","Please select":"Bitte wählen Sie","more file":"weitere Datei","more files":"weitere Dateien","File {displayName} is not an accepted file type. The accepted file types are {types}":"Datei-{displayName} ist keine anerkannte Dateityp. Die akzeptierten Dateitypen sind {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Datei ist zu groß. Die akzeptierten Dateigröße beträgt {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Unser Dateigrößenlimit ist {maxFiles} {filesText}"},vs={"File {displayName} is not an accepted file type. The accepted file types are {types}":"File {displayName} is not an accepted file type. The accepted file types are {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"File {displayName} is too big. The accepted file size is less than {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Our file upload limit is {maxFiles} {filesText}"},gs={Add:"Añadir",My:"Mi",Connect:"Conectar",View:"Ver",Upload:"Subir",Filter:"Filtrar",Images:"Imágenes",of:"de",Loading:"Cargando",Revert:"Deshacer",Edit:"Editar",More:"Mas",Uploaded:"Subido","A new page will open to connect your account.":"Se abrirá una nueva página para conectar tu cuenta.","My Device":"Mi Dispositivo","or Drag and Drop, Copy and Paste Files":"O arrastrar y soltar, copiar y pegar archivos","Pick Your Files":"Elige tus archivos","Select Files to Upload":"Seleccionar archivos para cargar","Selected Files":"Archivos seleccionados","Select Files from":"Seleccione Archivos de","We only extract images and never modify or delete them.":"Sólo extraemos imágenes y nunca las modificamos o eliminamos","You need to authenticate with ":"Debe autenticarse con","Search images":"Búsqueda de imágenes","Sign Out":"Desconectar","Select From":"Seleccione de","View/Edit Selected":"Ver/Editar Seleccionado","Deselect All":"Deseleccionar Todo","Files & Folders":"Archivos y Carpetas","Edited Images":"Imágenes editadas","Go Back":"Volver","No search results found for":"No hay resultados de búsqueda para","Please select":"Por favor, seleccione","more file":"el archivo más","more files":"el archivo más","File {displayName} is not an accepted file type. The accepted file types are {types}":"Archivo {displayName} no es un tipo de archivo aceptado. Los tipos de archivo aceptados son {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} De archivo es demasiado grande. El tamaño aceptado es {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Nuestro límite de upload de archivo es {maxFiles} {filesText}"},_s={Add:"Ajouter",My:"Ma",Connect:"Relier",View:"Vue",Upload:"Télécharger",Filter:"Filtrer",Images:"Images",of:"sur",Loading:"Chargement",Revert:"Annuler",Edit:"Modifier",More:"Plus",Uploaded:"Téléchargées","A new page will open to connect your account.":"Une nouvelle page s'ouvrira pour connecter votre compte.","My Device":"Mon appareil","or Drag and Drop, Copy and Paste Files":"ou faites glisser, copier et coller des fichiers","Pick Your Files":"Choisissez vos fichiers","Select Files to Upload":"Sélectionnez les fichiers à télécharger","Selected Files":"Fichiers sélectionnés","Select Files from":"Sélectionnez les fichiers à partir de","We only extract images and never modify or delete them.":"Nous ne faisons qu'extraire les images, et ne les modifions ou supprimons jamais.","You need to authenticate with ":"Vous devez vous authentifier avec ","Search images":"Rechercher des images","Sign Out":"Déconnecter","Select From":"Sélectionnez dans","View/Edit Selected":"Afficher/modifier sélectionnée","Deselect All":"Désélectionner tout","Files & Folders":"Fichiers et dossiers","Edited Images":"Images éditées","Go Back":"Retour","No search results found for":"Aucun résultat de recherche trouvé pour","Please select":"Veuillez sélectionner","more file":"plus de fichier","more files":"plus de fichiers","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} De fichier n’est pas un type de fichier accepté. Les types de fichiers acceptés sont {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"Le fichier {displayName} est trop grand. La taille de fichier acceptée est {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Notre limite de téléchargement de fichier est {maxFiles} {filesText}"},ys={Add:"Aggiungere",My:"Mio",Connect:"Collegare",View:"Visualizza",Upload:"Caricare",Filter:"Filtrare",Images:"Immagini",of:"di",Loading:"Caricamento",Revert:"Annulla",Edit:"Modifica",More:"Più",Uploaded:"Caricato","A new page will open to connect your account.":"Si aprirà una nuova pagina per collegare il tuo account","My Device":"Il mio dispositivo","or Drag and Drop, Copy and Paste Files":"o trascinare, copiare e incollare file","Pick Your Files":"Selezionare i file","Select Files to Upload":"Selezionare i file da caricare","Selected Files":"File selezionati","Select Files from":"Selezionare i file da","We only extract images and never modify or delete them.":"Abbiamo estratto solo immagini e non modificarli o cancellarli.","You need to authenticate with":"È necessario autenticarsi con","Search images":"Ricerca immagini","Sign Out":"Esci","Select From":"Selezionare da","View/Edit Selected":"Visualizza/Modifica selezionato","Deselect All":"Deselezionare tutto","Files & Folders":"File e cartelle","Edited Images":"Immagini Modificate","Go Back":"Indietro","No search results found for":"È il nostro limite di upload di file","Please select":"Si prega di selezionare","more file":"più file","more files":"più file","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} File non è un tipo di file accettato. I tipi di file accettati sono {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Arquivo é muito grande. O tamanho de arquivo aceito é {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"È il nostro limite di upload di file {maxFiles} {filesText}"},bs={Add:"Toevoegen",My:"Mijn",Connect:"Verbinding maken",View:"Bekijken",Upload:"Uploaden",Filter:"Filtreren",Images:"Afbeeldingen",of:"van de",Loading:"Laden",Revert:"Ongedaan maken",Edit:"Bewerken",More:"Meer",Uploaded:"Geüpload","A new page will open to connect your account.":"Een nieuwe pagina wordt geopend om verbinding maken met uw account","My Device":"Mijn apparaat","or Drag and Drop, Copy and Paste Files":"of slepen, kopiëren en plakken van bestanden","Pick Your Files":"Kies uw bestanden","Select Files to Upload":"Selecteer bestanden om te uploaden","Selected Files":"Geselecteerde bestanden","Select Files from":"Selecteer bestanden uit","We only extract images and never modify or delete them.":"We halen alleen afbeeldingen en nooit wijzigen of verwijderen","You need to authenticate with ":"U moet verifiëren bij ","Search images":"Zoek beelden","Sign Out":"Afmelden","Select From":"Selecteren","View/Edit Selected":"Bekijken/bewerken geselecteerd","Deselect All":"Deselecteer alles","Files & Folders":"Bestanden en mappen","Edited Images":"Bewerkte Afbeeldingen","Go Back":"Ga Bacl","No search results found for":"Geen zoekresultaten gevonden voor","Please select":"Gelieve te selecteren","more file":"meer bestand","more files":"meer bestanden","File {displayName} is not an accepted file type. The accepted file types are {types}":"Bestand {displayName} is niet een geaccepteerde bestandstype. De geaccepteerde bestandstypen zijn {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"Bestand {displayName} is te groot. De aanvaarde vijl spanwijdte zit {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Onze bestand uploaden limiet is {maxFiles} {filesText}"},Cs={Add:"Dodaj",My:"Mój",Connect:"Połączyć",View:"Widok",Upload:"Prześlij pliki",Filter:"Szukaj",Images:"Obrazy",of:"z",Loading:"Ładowanie",Revert:"Cofnij",Edit:"Edytuj",More:"Więcej",Uploaded:"Przesłany","A new page will open to connect your account.":"Nowa strona zostanie otwarta w celu połączenia z Twoim kontem.","My Device":"Moje urządzenie","or Drag and Drop, Copy and Paste Files":"lub przeciągnij i upuść, kopiować i wklejać pliki","Pick Your Files":"Wybierz swoje pliki","Select Files to Upload":"Wybierz pliki do przesłania","Selected Files":"Wybrane pliki","Select Files from":"Wybierz pliki z","We only extract images and never modify or delete them.":"Mamy tylko wyodrębnić obrazy i nigdy zmodyfikować lub usunąć je","You need to authenticate with ":"Musisz uwierzytelnić","Search images":"Szukaj obrazów","Sign Out":"Wyloguj się","Select From":"Wybierz z","View/Edit Selected":"Wyświetl/Edytuj zaznaczone","Deselect All":"Odznacz wszystko","Files & Folders":"Pliki i Foldery","Edited Images":"Edytowane obrazy","Go Back":"Przejdź wstecz","No search results found for":"Brak wyników wyszukiwania","Please select":"Proszę wybrać","more file":"więcej plików","more files":"więcej plików","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} Plik nie jest typem plików akceptowane. Typy plików akceptowane są {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Plik jest zbyt duże. Rozmiar plików akceptowane jest {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Nasz limit uploadu pliku jest {maxFiles} {filesText}"},Es={Add:"Adicionar",My:"Meu",Connect:"Conectar-se",View:"Ver",Upload:"Carregar",Filter:"Ordenar",Images:"Imagens",of:"de",Loading:"Carregamento",Revert:"Desfazer",Edit:"Editar",More:"Mais",Uploaded:"Carregado","A new page will open to connect your account.":"Uma nova página será aberta para conectar a sua conta.","My Device":"Meu dispositivo","or Drag and Drop, Copy and Paste Files":"ou arrastar, copiar e colar arquivos","Pick Your Files":"Selecione seus arquivos","Select Files to Upload":"Selecionar arquivos para upload","Selected Files":"Arquivos selecionados","Select Files from":"Selecione arquivos de","We only extract images and never modify or delete them.":"Nós apenas extraímos as imagens e nunca a modificamos ou a removemos.","You need to authenticate with ":"Você precisar se autenticar com","Search images":"Procurar fotos","Sign Out":"Desconectar","Select From":"Selecione de","View/Edit Selected":"Exibir/Editar selecionada","Deselect All":"Desmarcar todos","Files & Folders":"Arquivos e pastas","Edited Images":"Imagens editadas","Go Back":"Voltar","No search results found for":"Nenhum resultado de pesquisa encontrado para","Please select":"Por favor selecione","more file":"arquivo mais","more files":"mais arquivos","File {displayName} is not an accepted file type. The accepted file types are {types}":" Arquivo {displayName} não é um tipo de arquivo aceitos. Os tipos de arquivo aceitos são {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Arquivo é muito grande. O tamanho de arquivo aceito é {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"É o nosso limite de upload de arquivo {maxFiles} {filesText}"},Ss={Add:"Добавить",My:"Мой",Connect:"подключить",View:"просмотреть",Upload:"загрузить",Filter:"сортировать по дате",Images:"фото",of:"из",Loading:"загрузки",Revert:"Отменить",Edit:"Изменить",More:"больше",Uploaded:"загружены","A new page will open to connect your account.":"Новая страница открывается чтобы подключить ваш аккаунт","My Device":"Моё устройство","or Drag and Drop, Copy and Paste Files":"или перетаскивать, копировать и вставлять файлы","Pick Your Files":"Выберите файлы","Select Files to Upload":"Выберите файлы для загрузки","Selected Files":"Выбранные файлы","Select Files from":"Выбрать файлы","We only extract images and never modify or delete them.":"Мы просто извлекаем фото, а никогда не их изменяем или удалим","You need to authenticate with ":"Требуется аутентификация аккаунта с ","Search images":"поиск фото","Sign Out":"выйти","Select From":"выбрать в...","View/Edit Selected":"просмотреть/редактировать","Deselect All":"отмена","Files & Folders":"файлы и папки","Edited Images":"Отредактированные изображения","Go Back":"Вернуться","No search results found for":"Нет результатов поиска найдено для","Please select":"Пожалуйста, выберите","more file":"более файла","more files":"больше файлов","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} Файлов не является типом прикладываемых файлов. Типы прикладываемых файлов являются {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Файл слишком большой. Признанных файл имеет размер {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Наш предел загрузки файлов {maxFiles} {filesText}"},ws={Add:"再添加",My:"我的",Connect:"连接",View:"看",Upload:"上传",Filter:"过滤",Images:"图片",of:"/",Loading:"载入中",Revert:"还原",Edit:"编辑",More:"更多",Uploaded:"已上传","A new page will open to connect your account.":"一个新页面会打开以关联您的帐户","My Device":"我的设备","or Drag and Drop, Copy and Paste Files":"或拖放，复制和粘贴文件","Pick Your Files":"选择您的文件","Select Files to Upload":"选择要上传的文件","Selected Files":"所选文件","Select Files from":"从中选择文件","We only extract images and never modify or delete them.":"我们只提取图像，从不修改或删除它们","You need to authenticate with":"您需要验证","Search images":"搜索图像","Sign Out":"登出","Select From":"选择自","View/Edit Selected":"查看/编辑所选项","Deselect All":"取消选择全部","Files & Folders":"文件和文件夹","Edited Images":"编辑的图像","Go Back":"返回","No search results found for":"未找到搜索结果","Please select":"请选择","more file":"更多文件","more files":"更多文件","File {displayName} is not an accepted file type. The accepted file types are {types}":" 文件{displayName}不是可接受的文件类型。 可接受的文件类型为{types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":" 文件{displayName}太大。 可接受的文件大小为{roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"我们的文件上传限制为 {maxFiles} {filesText}"},Ts={da:ms,de:hs,en:vs,es:gs,fr:_s,it:ys,nl:bs,pl:Cs,pt:Es,ru:Ss,zh:ws},As=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=Ts[e];return{ERROR_FILE_NOT_ACCEPTABLE:t["File {displayName} is not an accepted file type. The accepted file types are {types}"],ERROR_FILE_TOO_BIG:t["File {displayName} is too big. The accepted file size is less than {roundFileSize}"],ERROR_MAX_FILES_REACHED:t["Our file upload limit is {maxFiles} {filesText}"]}},Fs=Ar.context("picker"),ks=function(e){return e.source+e.path},Rs=function(e,t){return e.map(function(e){return ks(e)}).indexOf(ks(t))},Os=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,n=function(e){if((e instanceof File||e instanceof Blob)&&(e={source:"local_file_system",mimetype:e.type,name:e.name,path:e.name,size:e.size,originalFile:e}),"dragged-from-web"===e.source){e.name=e.url.split("/").pop(),e.path=e.url,e.mimetype="text/html"
;var t=e.url.split(".").pop(),i=["jpg","jpeg","png","tiff","gif","bmp"];t&&i.indexOf(t.toLowerCase())!==-1&&(e.thumbnail=e.url,e.mimetype="image/"+t)}return e.uploadToken=ps(16),e.progress=0,e.progressSize=0,e},o=function(e,t){var i=function(e){var i=void 0;return e.some(function(e){return e.uploadToken===t&&(i=e,!0)}),i};return i(e.waiting)||i(e.uploading)||i(e.done)||i(e.failed)},r=function(e,t){if(Rs(e.getters.filesWaiting,t)!==-1)return e.commit("CANCEL_UPLOAD",t.uploadToken),void e.commit("DESELECT_FILE",t);if(t.folder)return void e.dispatch("addCloudFolder",{name:t.source,path:t.path});if(!function(){if(e.getters.allFilesInQueueCount===e.getters.maxFiles){var t=1===e.getters.maxFiles?"file":"files",i=As(e.getters.lang).ERROR_MAX_FILES_REACHED.replace("{maxFiles}",e.getters.maxFiles).replace("{filesText}",t);return e.dispatch("showNotification",i),!0}return!1}()){var i=n(t);(function(t){if(as(t,e.getters.accept))return!0;var i=As(e.getters.lang).ERROR_FILE_NOT_ACCEPTABLE.replace("{displayName}",ds(t)).replace("{types}",e.getters.accept);return e.dispatch("showNotification",i),!1})(i)&&function(t){if(void 0!==e.getters.onFileSelected)try{var i=e.getters.onFileSelected(ls(t));return i&&"string"==typeof i.name&&(t.originalFile&&(t.originalFile.newName=i.name),t.name=i.name),!0}catch(t){return e.dispatch("showNotification",t.message),!1}return!0}(i)&&function(t){if(void 0===e.getters.maxSize)return!0;if(t.size<e.getters.maxSize)return!0;if(!t.size)return!0;var i=As(e.getters.lang).ERROR_FILE_TOO_BIG.replace("{displayName}",ds(t)).replace("{roundFileSize}",us(e.getters.maxSize));return e.dispatch("showNotification",i),!1}(i)&&(Fs("Selected file:",t),e.commit("MARK_FILE_AS_WAITING",i),function(){e.getters.startUploadingWhenMaxFilesReached===!0&&e.getters.filesWaiting.length===e.getters.maxFiles?e.dispatch("startUploading",!0):e.getters.uploadInBackground&&e.dispatch("startUploading")}(),e.getters.allFilesInQueueCount===e.getters.maxFiles&&(e.commit("CHANGE_ROUTE",["summary"]),e.commit("UPDATE_MOBILE_NAV_ACTIVE",!1)))}},s=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=function(){return i<4&&t.state.waiting.length>0},r=function(){return 0===i&&0===t.state.waiting.length&&0===t.state.uploading.length},s=function(){var n=t.state.waiting[0],o={},r=void 0;if(n.tempStorage&&!n.transformed)r=Promise.resolve(n.tempStorage);else if(n.transformed&&!n.transformedFile)r=e.storeURL(n.transformed,fn({},t.getters.storeTo,{filename:n.name}));else if(n.transformedFile)r=Promise.resolve(n.transformedFile);else if("local_file_system"===n.source){var s={retryOptions:null,onProgress:function(e){t.getters.uploadStarted&&(t.commit("SET_FILE_UPLOAD_PROGRESS",{uploadToken:n.uploadToken,progress:e.totalProgressPercent,progressSize:us(e.progressTotal)}),void 0!==t.getters.onFileUploadProgress&&t.getters.onFileUploadProgress(ls(n),e))}};r=e.upload(n.originalFile,s,t.getters.storeTo,o)}else if("source-url"===n.source||"dragged-from-web"===n.source)r=e.storeURL(n.path,fn({},t.getters.storeTo,{filename:n.name}));else{if("cloud"!==n.sourceKind)throw new Error("Can't upload this file");r=t.getters.preferLinkOverStore?e.cloud(n.source).link(n.path):e.cloud(n.source).store(n.path,t.getters.storeTo,o)}return i+=1,t.commit("MARK_FILE_AS_UPLOADING",n),o.cancel&&t.commit("SET_CANCEL_TOKEN",{uploadToken:n.uploadToken,token:o}),Fs("Upload started:",n),void 0!==t.getters.onFileUploadStarted&&t.getters.onFileUploadStarted(ls(n)),r.then(function(e){var o=fn({},n,e);i-=1,t.commit("MARK_FILE_AS_DONE",{file:n,uploadMetadata:o}),t.commit("REMOVE_CANCEL_TOKEN",n.uploadToken),void 0!==t.getters.onFileUploadFinished&&t.getters.onFileUploadFinished(ls(o)),Fs("Upload done:",n)}).catch(function(e){i-=1,t.commit("MARK_FILE_AS_FAILED",n),t.commit("REMOVE_CANCEL_TOKEN",n.uploadToken),void 0!==t.getters.onFileUploadFailed&&t.getters.onFileUploadFailed(ls(n),e),e instanceof Error?Fs("Upload failed:",n,e.message):Fs("Upload failed:",n,e)}),r};t.getters.uploadStarted||(n&&(t.commit("SET_UPLOAD_STARTED",!0),t.commit("UPDATE_MOBILE_NAV_ACTIVE",!1),t.commit("CHANGE_ROUTE",["summary"])),function e(){o()?(s().then(e).catch(e),e()):r()&&t.getters.uploadStarted&&t.dispatch("allUploadsDone")}())},a=function(t,i){if("local_file_system"===t.source)return e.upload(t.originalFile,i.getters.storeTo);if("cloud"===t.sourceKind)return e.cloud(t.source).store(t.path,i.getters.storeTo);throw new Error("Can't upload this file")},l=function(e,t){return new Promise(function(i,n){var r=o(e.state,t),s=e.state.uploading.map(function(e){return e.uploadToken}),l=s.indexOf(t)!==-1;if(r.tempStorage)i(r.tempStorage);else if(l){!function s(){var a=o(e.state,t);if(a)if(void 0!==a.tempStorage)i(a.tempStorage);else{var l=e.state.failed.map(function(e){return e.uploadToken}),c=l.indexOf(t)!==-1;c?(n(),e.dispatch("showNotification",r.name+" failed to upload. Please try again or check your network log.")):setTimeout(s,100)}else i(null)}()}else a(r,e).then(function(n){o(e.state,t)&&(e.commit("SET_FILE_TEMPORARY_STORAGE",{uploadToken:t,metadata:n}),n.uploadToken=t,i(n))}).catch(function(){n(),e.dispatch("showNotification",r.name+" failed to upload. Please try again or check your network log.")})})};return t=fn({uploadStarted:!1,waiting:[],uploading:[],done:[],failed:[],stagedForTransform:null,pendingTokens:{}},t),{state:t,mutations:{SET_UPLOAD_STARTED:function(e,t){e.uploadStarted=t},MARK_FILE_AS_WAITING:function(e,t){e.waiting.push(t)},DESELECT_FILE:function(e,t){var i=Rs(e.waiting,t),n=Rs(e.uploading,t),o=Rs(e.done,t),r=Rs(e.failed,t);switch([i>=0,n>=0,o>=0,r>=0].indexOf(!0)){case-1:throw new Error("Illegal operation for given file");case 0:e.waiting.splice(i,1);break;case 1:e.uploading.splice(n,1);break;case 2:e.done.splice(o,1);break;case 3:e.failed.splice(r,1)}},DESELECT_FOLDER:function(e,t){var i=function(e){return e.filter(function(e){return"cloud"!==e.sourceKind||e.path.indexOf(t.path)<0})};e.waiting=i(e.waiting),e.uploading=i(e.uploading),e.done=i(e.done),e.failed=i(e.failed)},DESELECT_ALL_FILES:function(e){e.waiting.splice(0,e.waiting.length),e.uploading.splice(0,e.uploading.length),e.done.splice(0,e.done.length),e.failed.splice(0,e.failed.length)},MARK_FILE_AS_UPLOADING:function(e,t){var i=Rs(e.waiting,t);if(i===-1)throw new Error("Illegal operation for given file");e.waiting.splice(i,1),e.uploading.push(t)},MARK_FILE_AS_DONE:function(e,t){var i=t.file,n=t.uploadMetadata,o=Rs(e.uploading,i);o>=0&&(e.uploading.splice(o,1),e.done.push(i),i.transformed?tt.set(i,"transformedFile",n):tt.set(i,"tempStorage",n),Object.keys(n).forEach(function(e){tt.set(i,e,n[e])}))},MARK_FILE_AS_FAILED:function(e,t){var i=Rs(e.uploading,t);i>=0&&(e.uploading.splice(i,1),e.failed.push(t))},SET_FILE_UPLOAD_PROGRESS:function(e,t){var i=t.uploadToken,n=t.progress,r=t.progressSize,s=o(e,i);tt.set(s,"progress",n),tt.set(s,"progressSize",r)},SET_FILE_TEMPORARY_STORAGE:function(e,t){var i=t.uploadToken,n=t.metadata,r=o(e,i);tt.set(r,"tempStorage",n)},SET_FILE_FOR_TRANSFORM:function(e,t){e.stagedForTransform=t},SET_FILE_TRANSFORMATION:function(e,t){var i=t.uploadToken,n=t.transformedUrl,r=o(e,i);tt.set(r,"transformed",n);var s=Rs(e.done,r),a=Rs(e.failed,r),l=Rs(e.uploading,r),c=Rs(e.waiting,r);s>=0?e.done.splice(s,1):l>=0?e.uploading.splice(l,1):a>=0&&e.failed.splice(s,1),c<0&&e.waiting.push(r)},REMOVE_FILE_TRANSFORMATION:function(e,t){var i=o(e,t);tt.delete(i,"transformed"),tt.delete(i,"transformedFile"),i.originalFile&&i.originalFile.size&&tt.set(i,"size",i.originalFile.size);var n=Rs(e.done,i),r=Rs(e.failed,i),s=Rs(e.uploading,i),a=Rs(e.waiting,i);n>=0?e.done.splice(n,1):s>=0?e.uploading.splice(s,1):r>=0&&e.failed.splice(n,1),a<0&&e.waiting.push(i)},REMOVE_SOURCE_FROM_WAITING:function(e,t){var i=e.waiting.filter(function(e){return e.source!==t});e.waiting=i},REMOVE_CLOUDS_FROM_WAITING:function(e){var t=e.waiting.filter(function(e){return"cloud"!==e.sourceKind});e.waiting=t},SET_CANCEL_TOKEN:function(e,t){var i=t.uploadToken,n=t.token;e.pendingTokens[i]=n},REMOVE_CANCEL_TOKEN:function(e,t){delete e.pendingTokens[t]},CANCEL_UPLOAD:function(e,t){var i=e.pendingTokens[t];i&&i.cancel&&(i.cancel(),delete e.pendingTokens[t])},CANCEL_FOLDER_UPLOAD:function(e,t){e.waiting.concat(e.uploading).filter(function(e){return"cloud"!==e.sourceKind||e.path.indexOf(t.path)>=0}).map(function(e){return e.uploadToken}).forEach(function(t){var i=e.pendingTokens[t];i&&i.cancel&&(i.cancel(),delete e.pendingTokens[t])})},CANCEL_ALL_UPLOADS:function(e){Object.keys(e.pendingTokens).forEach(function(t){var i=e.pendingTokens[t];i&&i.cancel&&i.cancel()}),e.pendingTokens={}}},actions:{addFile:r,startUploading:s,uploadFileToTemporaryLocation:l,removeTransformation:function(e,t){e.commit("REMOVE_FILE_TRANSFORMATION",t.uploadToken)},deselectAllFiles:function(e){e.commit("CANCEL_ALL_UPLOADS"),e.commit("DESELECT_ALL_FILES")},deselectFolder:function(e,t){e.commit("CANCEL_FOLDER_UPLOAD",t),e.commit("DESELECT_FOLDER",t)}},getters:{filesWaiting:function(e,t){return t.uploadStarted?e.waiting:[].concat(e.waiting,e.uploading,e.done,e.failed).sort(function(e,t){return e.size-t.size})},filesUploading:function(e,t){return t.uploadStarted?e.uploading:[]},filesDone:function(e){return e.done},filesFailed:function(e){return e.failed},allFilesInQueue:function(e,t){return t.uploadStarted?[].concat(t.filesWaiting,t.filesUploading,t.filesDone,t.filesFailed):t.filesWaiting},allFilesInQueueCount:function(e,t){return t.uploadStarted?t.filesWaiting.length+t.filesUploading.length+t.filesDone.length+t.filesFailed.length:t.filesWaiting.length},filesNeededCount:function(e,t){return t.minFiles-t.filesWaiting.length},uploadStarted:function(e){return e.uploadStarted},canStartUpload:function(e,t){return t.filesWaiting.length>=t.minFiles},canAddMoreFiles:function(e,t){return t.filesWaiting.length<t.maxFiles},stagedForTransform:function(e){return e.stagedForTransform}}}},Ls=function(e){var t=e.path.split("/");return t.pop(),e.folder?e.path:t.join("/")},Ns={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.files.length>0?i("div",{staticClass:"fsp-grid"},[i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Files & Folders")))]),e._l(e.onlyFolders,function(t){return i("div",{staticClass:"fsp-grid__cell",class:{"fsp-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.handleFolderClick(t)}}},[e.isSelected(t)?i("span",{staticClass:"fsp-badge fsp-badge--bright fsp-badge--file"},[e._v(e._s(e.getFileCount(t)))]):i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-folder",t)}),e._v(" "),i("span",{staticClass:"fsp-grid__text",class:{"fsp-grid__text--selected":e.isSelected(t)}},[e._v(e._s(t.name))]),e._v(" "),e.isSelected(t)?i("span",{staticClass:"fsp-grid__icon--selected",attrs:{title:"Deselect folder"},on:{click:function(i){i.stopPropagation(),e.deselectFolder(t)}}}):e._e(),e._v(" "),e.isLoading(t)||e.isSelected(t)?e._e():i("span",{staticClass:"fsp-grid__icon-folder-add",attrs:{title:"Add folder"},on:{click:function(i){i.stopPropagation(),e.addFile(t)}}}),e.isLoading(t)?i("div",{staticClass:"fsp-loading--folder"}):e._e()])}),e._l(e.onlyFiles,function(t){return i("div",{staticClass:"fsp-grid__cell",class:{"fsp-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.addFile(t)}}},[e.isAudio(t)?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-audio",t)}):"application/pdf"===t.mimetype?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-pdf",t)}):"application/zip"===t.mimetype?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-zip",t)}):i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-file",t)}),e._v(" "),i("span",{staticClass:"fsp-grid__text",class:{"fsp-grid__text--selected":e.isSelected(t)}},[e._v(e._s(t.name))]),e._v(" "),e.isSelected(t)?i("span",{staticClass:"fsp-grid__icon--selected"}):e._e()])})],2):e._e()},staticRenderFns:[],computed:fn({},Hr.mapGetters(["cloudFolders","filesWaiting"]),{onlyFolders:function(){return this.files.filter(function(e){return e.folder})},onlyFiles:function(){return this.files.filter(function(e){return!e.folder})}}),methods:fn({},Hr.mapActions(["addFile","deselectFolder","goToDirectory"]),{handleFolderClick:function(e){this.goToDirectory(e)},getIconClass:function(e,t){var i;return i={},dn(i,e,!this.isSelected(t)),dn(i,e+"--selected",this.isSelected(t)),i},isAudio:function(e){return e&&e.mimetype&&e.mimetype.indexOf("audio/")!==-1},isLoading:function(e){return!!e.folder&&(this.cloudFolders[e.path]&&this.cloudFolders[e.path].loading)},isSelected:function(e){return e.folder?this.filesWaiting.filter(function(t){return Ls(t)===e.path}).length>0:Rs(this.filesWaiting,e)!==-1},getFileCount:function(e){return this.filesWaiting.filter(function(t){return Ls(t)===e.path}).length}}),props:["files"]},xs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.images&&e.images.length>0?i("div",{staticClass:"fsp-grid"},[i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Images")))]),e._l(e.images,function(t){return i("div",{key:t.path,staticClass:"fsp-image-grid__cell",class:{"fsp-image-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.addFile(t)}}},[e.isSelected(t)?i("span",{staticClass:"fsp-image-grid__icon--selected"}):e._e(),e._v(" "),i("img",{staticClass:"fsp-image-grid__image",class:{"fsp-image-grid__image--selected":e.isSelected(t)},attrs:{src:t.thumbnail,alt:t.name}}),e.isSelected(t)?i("div",{staticClass:"fsp-image-grid__cell--dark"}):e._e()])})],2):e._e()},staticRenderFns:[],computed:fn({},Hr.mapGetters(["filesWaiting"])),methods:fn({},Hr.mapActions(["addFile"]),{isSelected:function(e){return Rs(this.filesWaiting,e)!==-1}}),props:["images"]},Is={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("file-array",{attrs:{files:e.arrayOfFiles}}),e.arrayOfFiles.length&&e.arrayOfImages.length?i("hr",{staticClass:"fsp-grid__separator"}):e._e(),i("image-array",{attrs:{images:e.arrayOfImages}})],1)},staticRenderFns:[],components:{FileArray:Ns,ImageArray:xs},computed:fn({},Hr.mapGetters(["listForCurrentCloudPath"]),{arrayOfImages:function(){return this.listForCurrentCloudPath.filter(this.isImage)},arrayOfFiles:function(){var e=this;return this.listForCurrentCloudPath.filter(function(t){return!e.isImage(t)})}}),methods:{isImage:function(e){return e&&e.mimetype&&e.mimetype.indexOf("image/")!==-1}}},Ds={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-breadcrumb__container"},[e.crumbs.length<3?i("span",e._l(e.crumbs,function(t){return i("span",{staticClass:"fsp-breadcrumb__label",on:{click:function(i){e.handleClick(t)}}},[e._v(e._s(t.label)+" ")])})):i("span",e._l(e.truncateCrumbs(e.crumbs),function(t){return i("span",{staticClass:"fsp-breadcrumb__label",on:{click:function(i){e.handleClick(t)}}},[e._v(e._s(t.label))])}))])},staticRenderFns:[],props:["crumbs","onClick"],methods:{truncateCrumbs:function(e){var t=[e[0]],i=e.filter(function(t,i){return i>=e.length-2});return t.push.apply(t,[{path:"",label:"..."}].concat(pn(i))),t},handleClick:function(e){e.path&&e.label&&this.onClick(e)}}},$s={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"fsp-loading"})},staticRenderFns:[]},Us=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Ms={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-cloud",class:{"fsp-content--selected-items":e.filesWaiting.length}},[e.cloudLoading||e.isPrefetching?i("loading"):e._e(),e.currentCloudAuthorized!==!0?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon-auth fsp-icon fsp-source-auth__el",class:"fsp-icon--"+e.currentCloudName}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Select Files from"))+" "+e._s(e.currentDisplay.label))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("You need to authenticate with "))+" "),i("span",{staticClass:"fsp-cloudname"},[e._v(e._s(e.currentDisplay.label))]),e._v(". "+e._s(e.t("We only extract images and never modify or delete them.")))])]),i("button",{staticClass:"fsp-button__auth fsp-source-auth__el",attrs:{type:"button"},on:{click:e.authorize}},[e._v(e._s(e.t("Connect"))+" "),i("span",{staticClass:"fsp-cloudname"},[e._v(e._s(e.currentDisplay.label))])]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("A new page will open to connect your account.")))])])]):e._e(),e.currentCloudAuthorized===!0?i("div",[e.currentCrumbs.length>1?i("div",{staticClass:"fsp-cloud-breadcrumbs"},[i("breadcrumbs",{attrs:{crumbs:e.currentCrumbs,"on-click":e.updatePath}})],1):e._e(),i("cloud-grid")],1):e._e()],1)},staticRenderFns:[],components:{CloudGrid:Is,Breadcrumbs:Ds,Loading:$s},computed:fn({},Hr.mapGetters(["route","currentCloudAuthorized","currentCloudName","currentCloudPath","listForCurrentCloudPath","cloudFolders","cloudLoading","cloudsPrefetching","filesWaiting"]),{isPrefetching:function(){var e=this.currentCloudPath,t=e.length>0?Us(e):e,i=this.currentCloudName+t;return this.cloudsPrefetching[i]},currentDisplay:function(){return es(this.route[1])},currentCrumbs:function(){var e=this,t=[{label:this.currentDisplay.label,path:"root"}];return this.currentCloudPath.length?t.concat(this.currentCloudPath.map(function(t){return{label:e.cloudFolders[t].name,path:t}})):t}}),methods:fn({},Hr.mapActions(["showCloudPath"]),{authorize:function(){var e=this,t=window.open(this.currentCloudAuthorized.authUrl,"_blank");!function i(){t.closed!==!0?setTimeout(i,10):e.showCloudPath({name:e.route[1],path:e.route[2]})}()},updatePath:function(e){var t=this.currentCloudPath.indexOf(e.path),i=this.currentCloudPath.filter(function(e,i){return i<=t}),n=["source",this.currentCloudName];"root"===e.path?this.$store.commit("CHANGE_ROUTE",n):(n.push(i),this.$store.commit("CHANGE_ROUTE",n))}}),watch:{route:{deep:!0,immediate:!0,handler:function(e){var t=e[1],i=e[2];this.showCloudPath({name:t,path:i})}}}},Ps=function(e){return new RegExp("Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(e)},zs=function(e){return JSON.parse(JSON.stringify(e))},js={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-mobile-menu",on:{click:function(t){e.toggleNav()}}},[i("div",{staticClass:"fsp-nav__menu-toggle"})])},staticRenderFns:[],computed:fn({},Hr.mapGetters(["mobileNavActive","route"]),{hideLocalOnMobile:function(){var e=zs(this.route),t=e.pop();return!(!Ps(navigator.userAgent)||t.indexOf("local_file_system")===-1)||!this.mobileNavActive}}),methods:fn({},Hr.mapActions(["updateMobileNavActive"]),{toggleNav:function(){this.updateMobileNavActive(this.hideLocalOnMobile)}})},Vs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-header",class:{"fsp-hide-header":e.hideHeader}},[e.sourceName&&!e.mobileNavActive?i("span",{staticClass:"fsp-header-icon",class:"fsp-navbar--"+e.sourceName}):e._e(),e._v(" "),e.mobileNavActive?i("span",{staticClass:"fsp-header-text"},[e._v(e._s(e.t("Select From")))]):e._e(),e._t("default"),i("mobile-menu-button")],2)},staticRenderFns:[],computed:fn({},Hr.mapGetters(["mobileNavActive"])),components:{MobileMenuButton:js},props:["sourceName","hideHeader"]},Gs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-footer",class:{"fsp-footer--appeared":e.isVisible}},[i("div",{staticClass:"fsp-nav"},[i("span",{staticClass:"fsp-nav__left"},[e._t("nav-left")],2),i("span",{staticClass:"fsp-nav__center"},[e._t("nav-center")],2),i("span",{staticClass:"fsp-nav__right"},[e._t("nav-right")],2)])])},staticRenderFns:[],props:["isVisible"]},Ws={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-image-search",class:{"fsp-image-search--results":e.resultsFound}},[i("div",{staticClass:"fsp-image-search__form-container"},[i("form",{staticClass:"fsp-image-search__form",on:{submit:function(t){t.preventDefault(),e.focusAndFetch(t)}}},[i("input",{ref:"searchInput",staticClass:"fsp-image-search__input",attrs:{placeholder:e.placeholderText,disabled:e.isSearching},domProps:{value:e.imageSearchInput},on:{input:e.updateInput}}),e._v(" "),e.imageSearchInput===e.imageSearchName?i("button",{staticClass:"fsp-image-search__submit",on:{click:function(t){t.preventDefault(),e.clearSearch(t)}}},[i("span",{staticClass:"fsp-image-search__icon--reset"})]):e._e(),e._v(" "),e.imageSearchInput!==e.imageSearchName?i("button",{staticClass:"fsp-image-search__submit",attrs:{type:"submit"}},[i("span",{class:{"fsp-image-search__icon--search":!0,"fsp-image-search__icon--searching":e.isSearching}})]):e._e()])]),i("div",{staticClass:"fsp-image-search__results",class:{"fsp-content--selected-items":e.filesWaiting.length}},[i("image-array",{attrs:{images:e.imageSearchResults}})],1)])},staticRenderFns:[],components:{ImageArray:xs},computed:fn({},Hr.mapGetters(["isSearching","noResultsFound","resultsFound","imageSearchName","imageSearchInput","imageSearchResults","filesWaiting"]),{placeholderText:function(){return this.t("Search images")+"..."}}),methods:fn({},Hr.mapActions(["updateSearchInput","fetchImages"]),{focusAndFetch:function(){this.fetchImages(),this.$refs.searchInput.focus()},updateInput:function(e){this.updateSearchInput(e.target.value)},clearSearch:function(){this.updateSearchInput(""),this.$refs.searchInput.focus()}})},Hs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-select-labels",class:{active:e.selectLabelIsActive}},[i("div",{staticClass:"fsp-drop-area__title fsp-text__title"},[e._v(e._s(e.t("Select Files to Upload")))]),i("div",{staticClass:"fsp-drop-area__subtitle fsp-text__subheader"},[e._v(e._s(e.t("or Drag and Drop, Copy and Paste Files")))])])},staticRenderFns:[],computed:fn({},Hr.mapGetters(["selectLabelIsActive"]))},Bs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"dropArea",staticClass:"fsp-drop-area",on:{click:e.openSelectFile}},[i("select-files-label"),i("input",{ref:"fileUploadInput",staticClass:"fsp-local-source__fileinput",attrs:{type:"file",id:"fsp-fileUpload",accept:e.acceptStr,multiple:e.multiple,disabled:!e.canAddMoreFiles},on:{change:function(t){e.onFilesSelected(t)},click:function(t){e.clearEvent(t)}}})],1)])},staticRenderFns:[],components:{SelectFilesLabel:Hs},computed:fn({},Hr.mapGetters(["accept","canAddMoreFiles","maxFiles"]),{acceptStr:function(){if(this.accept)return this.accept.join(",")},multiple:function(){return this.maxFiles>1}}),methods:fn({},Hr.mapActions(["addFile","updateSelectLabelActive"]),{clearEvent:function(e){e.target.value=null},onMouseover:function(){this.updateSelectLabelActive(!0)},onMouseout:function(){this.updateSelectLabelActive(!1)},onFilesSelected:function(e){for(var t=e.target.files,i=0;i<t.length;i+=1)this.addFile(t[i])},openSelectFile:function(){this.$refs.fileUploadInput.click()}}),mounted:function(){var e=this.$refs.dropArea;e.addEventListener("mouseover",this.onMouseover),e.addEventListener("mouseout",this.onMouseout)}},Ys={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-source-list__item",class:{active:e.isSelectedSource,hidden:e.isHidden,disabled:e.uploadStarted},on:{click:function(t){e.onNavClick(e.sourceName)}}},[e.sourceSelectedCount(e.filesWaiting)?i("span",{staticClass:"fsp-badge--source"},[e._v(e._s(e.sourceSelectedCount(e.filesWaiting)))]):e._e(),e._v(" "),i("span",{staticClass:"fsp-source-list__icon fsp-icon",class:"fsp-icon--"+e.sourceName}),e._v(" "),i("span",{staticClass:"fsp-source-list__label"},[e._v(e._s(e.sourceLabel))]),e._v(" "),e.isAuthorized?i("span",{staticClass:"fsp-source-list__logout",on:{click:function(t){t.stopPropagation(),e.logout(e.sourceName)}}},[e._v(e._s(e.t("Sign Out")))]):e._e(),e._v(" "),e.isMobileLocal?i("input",{ref:"mobileLocaInput",staticClass:"fsp-local-source__fileinput",attrs:{type:"file"},on:{change:function(t){e.onFilesSelected(t)}}}):e._e()])},staticRenderFns:[],props:["sourceName","sourceLabel","isHidden"],computed:fn({},Hr.mapGetters(["filesWaiting","route","uploadStarted","cloudsAuthorized","mobileNavActive","maxFiles","accept"]),{isSelectedSource:function(){return"summary"!==this.route[0]&&(this.route.length>1?this.route[1]:"local_file_system")===this.sourceName},isAuthorized:function(){return this.cloudsAuthorized[this.sourceName]},isMobileLocal:function(){return this.mobileNavActive&&"local_file_system"===this.sourceName}}),methods:fn({},Hr.mapActions(["updateMobileNavActive","addFile","logout"]),{onNavClick:function(e){this.isMobileLocal?this.openSelectFile():(this.updateMobileNavActive(!1),this.$store.commit("CHANGE_ROUTE",["source",e]))},sourceSelectedCount:function(e){var t=this;return e.filter(function(e){return e.source===t.sourceName}).length},openSelectFile:function(){this.$refs.mobileLocaInput.click()},onFilesSelected:function(e){for(var t=e.target.files,i=0;i<t.length;i+=1)this.addFile(t[i])}})},Xs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-modal__sidebar",class:{"fsp-mobile-nav-active":e.mobileNavActive}},[i("div",{staticClass:"fsp-source-list"},[e._l(e.paginatedSources,function(e){return i("source-nav-item",{key:e.name,attrs:{"is-hidden":e.isHidden,"source-name":e.name,"source-label":e.label}})}),e.fromSources.length>this.offset+1?i("div",{staticClass:"fsp-source-list__item fsp-source-list__more",on:{click:e.updateIndex}},[i("span",{staticClass:"fsp-source-list__icon fsp-source-list__more-icon"}),e._v(" "),i("span",{staticClass:"fsp-source-list__label"},[e._v("More")])]):e._e()],2)])},staticRenderFns:[],components:{SourceNavItem:Ys},computed:fn({},Hr.mapGetters(["fromSources","mobileNavActive"]),{paginatedSources:function(){var e=this;return this.fromSources.map(function(t,i){return i>=e.index&&i<=e.index+e.offset?t:fn({},t,{isHidden:!0})})}}),data:function(){return{offset:7,index:0}},methods:{updateIndex:function(){this.paginatedSources.filter(function(e){return!e.isHidden}).length<=this.offset?this.index=0:this.index=this.index+(this.offset+1)}}},qs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker"},[i("close-button"),i("div",{staticClass:"fsp-modal"},[i("sidebar"),i("div",{staticClass:"fsp-modal__body"},[i("div",{staticClass:"fsp-container"},[e.isInsideCloudFolder?i("div",{staticClass:"fsp-summary__go-back",attrs:{title:"Go back"},on:{click:e.goBack}}):e._e(),i("content-header",{attrs:{"source-name":e.currentSource.name,"hide-header":e.showsHeaderIcon}}),i("div",{staticClass:"fsp-content"},["local"===e.currentSource.ui?i("local"):e._e(),"cloud"===e.currentSource.ui?i("cloud"):e._e(),"imagesearch"===e.currentSource.ui?i("image-search"):e._e()],1)],1),i("footer-nav",{attrs:{"is-visible":e.filesWaiting.length>0}},[i("span",{staticClass:"fsp-footer-text",slot:"nav-left"},[e._v(e._s(e.t("Selected Files"))+": "+e._s(e.filesWaiting.length))]),e._v(" "),e.canStartUpload||0===e.filesWaiting.length?e._e():i("span",{slot:"nav-center"},[e._v(e._s(e.getMinFilesMessage)+" ")]),i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":!e.canStartUpload},attrs:{title:"Next"},on:{click:e.goToSummary},slot:"nav-right"},[e._v(e._s(e.t("View/Edit Selected")))])])],1)],1),e._m(0)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker__footer"},[e._v("Powered by "),i("span",{staticClass:"fsp-icon--filestack"}),e._v(" Filestack")])}],components:{CloseButton:ts,Cloud:Ms,ContentHeader:Vs,FooterNav:Gs,ImageSearch:Ws,Local:Bs,Sidebar:Xs},computed:fn({},Hr.mapGetters(["route","filesWaiting","cloudLoading","currentCloudPath","currentCloudAuthorized","minFiles","canStartUpload","filesNeededCount","mobileNavActive"]),{currentSource:function(){return es(this.route[1])},getMinFilesMessage:function(){return 1===this.filesNeededCount?this.t("Add")+" 1 "+this.t("more file"):this.filesNeededCount>1?this.t("Add")+" "+this.filesNeededCount+" "+this.t("more files"):null},showsHeaderIcon:function(){return"imagesearch"!==this.currentSource.ui&&"source-url"!==this.currentSource.ui&&("local"===this.currentSource.ui||this.currentCloudAuthorized!==!0)},isInsideCloudFolder:function(){return"cloud"===this.currentSource.ui&&void 0!==this.currentCloudPath&&0!==this.currentCloudPath.length&&!this.mobileNavActive}}),methods:fn({},Hr.mapActions(["deselectAllFiles","goBack","updateMobileNavActive"]),{goToSummary:function(){this.canStartUpload&&(this.$store.commit("CHANGE_ROUTE",["summary"]),this.updateMobileNavActive(!1))}})},Ks="Expected a function",Zs=NaN,Qs="[object Symbol]",Js=/^\s+|\s+$/g,ea=/^[-+]0x[0-9a-f]+$/i,ta=/^0b[01]+$/i,ia=/^0o[0-7]+$/i,na=parseInt,oa="object"==un(Sr)&&Sr&&Sr.Object===Object&&Sr,ra="object"==("undefined"==typeof self?"undefined":un(self))&&self&&self.Object===Object&&self,sa=oa||ra||Function("return this")(),aa=Object.prototype,la=aa.toString,ca=Math.max,ua=Math.min,da=function(){return sa.Date.now()},fa=tn,pa=Ar.context("transformer"),ma=function(e){return e+"px"},ha={topLeftX:"bottomRightX",topLeftY:"bottomRightY",bottomRightX:"topLeftX",bottomRightY:"topLeftY"},va=function(e,t,i,n){var o=e.imageNaturalWidth/(t.imageWidth-t.imageX),r=e.imageNaturalHeight/(t.imageHeight-t.imageY),s={x:Math.round((i.topLeftX-t.imageX)*o),y:Math.round((i.topLeftY-t.imageY)*r),width:Math.round((i.bottomRightX-i.topLeftX)*o),height:Math.round((i.bottomRightY-i.topLeftY)*r)};i.topLeftX===t.imageX&&i.topLeftY===t.imageY&&i.bottomRightX===t.imageWidth&&i.bottomRightY===t.imageHeight?n.commit("REMOVE_TRANSFORMATION","crop"):n.commit("SET_TRANSFORMATION",{type:"crop",options:{dim:s}})},ga=fa(function(e,t,i,n){return va(e,t,i,n)},500),_a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.cachedCropRectangle&&!e.imageLoading,expression:"!cachedCropRectangle && !imageLoading"}],staticStyle:{position:"absolute",top:"0",left:"0"}},[i("div",{ref:"cropArea",staticClass:"fst-crop__area",style:e.cropAreaStyle},[i("div",{staticClass:"fst-crop__area-line--right"}),i("div",{staticClass:"fst-crop__area-line--left"}),i("div",{staticClass:"fst-crop__area-line--top"}),i("div",{staticClass:"fst-crop__area-line--bottom"})]),i("div",{ref:"topLeftMarker",staticClass:"fst-crop__marker fst-crop__marker--top-left",style:e.topLeftStyle}),i("div",{ref:"topRightMarker",staticClass:"fst-crop__marker fst-crop__marker--top-right",style:e.topRightStyle}),i("div",{ref:"bottomLeftMarker",staticClass:"fst-crop__marker fst-crop__marker--bottom-left",style:e.bottomLeftStyle}),i("div",{ref:"bottomRightMarker",staticClass:"fst-crop__marker fst-crop__marker--bottom-right",style:e.bottomRightStyle})]),!e.imageLoading&&e.cachedCropRectangle?i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("div",{staticClass:"fst-button fst-button--cancel",staticStyle:{"font-weight":"500"},on:{click:e.undoCrop}},[e._v("Undo Crop")])])]):e._e()])},staticRenderFns:[],props:{imageWidth:Number,imageHeight:Number,imageX:Number,imageY:Number},data:function(){return{cropRectangle:{topLeftX:0,topLeftY:0,bottomRightX:0,bottomRightY:0}}},computed:fn({},Hr.mapGetters(["imageNaturalWidth","imageNaturalHeight","cachedCropRectangle","imageLoading"]),{aspectRatio:function(){return this.$store.getters.cropAspectRatio},topLeftStyle:function(){var e=this.$refs.topLeftMarker&&this.$refs.topLeftMarker.getBoundingClientRect().width/2,t=this.cropRectangle.topLeftX-e;return{top:ma(this.cropRectangle.topLeftY-e),left:ma(t)}},topRightStyle:function(){
var e=this.$refs.topRightMarker&&this.$refs.topRightMarker.getBoundingClientRect().width/2,t=this.cropRectangle.bottomRightX-e;return{top:ma(this.cropRectangle.topLeftY-e),left:ma(t)}},bottomLeftStyle:function(){var e=this.$refs.bottomLeftMarker&&this.$refs.bottomLeftMarker.getBoundingClientRect().width/2,t=this.cropRectangle.topLeftX-e;return{top:ma(this.cropRectangle.bottomRightY-e),left:ma(t)}},bottomRightStyle:function(){var e=this.$refs.bottomRightMarker&&this.$refs.bottomRightMarker.getBoundingClientRect().width/2,t=this.cropRectangle.bottomRightX-e;return{top:ma(this.cropRectangle.bottomRightY-e),left:ma(t)}},cropAreaStyle:function(){var e=this.cropRectangle.topLeftX,t=this.cropRectangle.topLeftY,i=this.cropRectangle.bottomRightX-this.cropRectangle.topLeftX,n=this.cropRectangle.bottomRightY-this.cropRectangle.topLeftY;return{left:ma(e),top:ma(t),width:ma(i),height:ma(n)}}}),watch:{imageLoading:{handler:function(e){var t=this;e||this.cachedCropRectangle||this.$nextTick(function(){t.addMarkerBehaviour(t.$refs.topLeftMarker,"topLeftX","topLeftY"),t.addMarkerBehaviour(t.$refs.topRightMarker,"bottomRightX","topLeftY"),t.addMarkerBehaviour(t.$refs.bottomLeftMarker,"topLeftX","bottomRightY"),t.addMarkerBehaviour(t.$refs.bottomRightMarker,"bottomRightX","bottomRightY"),t.addMoveSelectionBehaviour(),t.initialize()})}},cropRectangle:{deep:!0,handler:function(){ga({imageNaturalWidth:this.imageNaturalWidth,imageNaturalHeight:this.imageNaturalHeight},{imageWidth:this.imageWidth,imageHeight:this.imageHeight,imageX:this.imageX,imageY:this.imageY},this.cropRectangle,this.$store)}}},methods:fn({},Hr.mapActions(["performTransformations"]),{calculateRectangleMaintainingAspectRatio:function(e,t){var i={w:e,h:e/this.aspectRatio},n={w:t*this.aspectRatio,h:t};return Math.sqrt(i.w*i.w+i.h*i.h)<Math.sqrt(n.w*n.w+n.h*n.h)?i:n},ensurePointWithinBoundsX:function(e,t){if("topLeftX"===t){if(e<this.imageX)return this.imageX;if(e>=this.cropRectangle.bottomRightX)return this.cropRectangle.bottomRightX-1}else if("bottomRightX"===t){if(e<=this.cropRectangle.topLeftX)return this.cropRectangle.topLeftX+1;if(e>this.imageWidth)return this.imageWidth}return e},ensurePointWithinBoundsY:function(e,t){if("topLeftY"===t){if(e<this.imageY)return this.imageY;if(e>=this.cropRectangle.bottomRightY)return this.cropRectangle.bottomRightY-1}else if("bottomRightY"===t){if(e<=this.cropRectangle.topLeftY)return this.cropRectangle.topLeftY+1;if(e>this.imageHeight)return this.imageHeight}return e},addMarkerBehaviour:function(e,t,i){var n=this,o=function(e){e.preventDefault();var o=e.touches?e.touches[0]:e,r=o.clientX-n.cropRectangle[t],s=o.clientY-n.cropRectangle[i],a=function(e){var o=e.touches?e.touches[0]:e,a=void 0,l=void 0,c=n.ensurePointWithinBoundsX(o.clientX-r,t),u=n.ensurePointWithinBoundsY(o.clientY-s,i),d=ha[t],f=ha[i],p=Math.abs(c-n.cropRectangle[d]),m=Math.abs(u-n.cropRectangle[f]);p<40&&(p=40),m<40&&(m=40);var h={w:p,h:m};void 0!==n.aspectRatio&&(h=n.calculateRectangleMaintainingAspectRatio(p,m)),a=c<n.cropRectangle[d]?n.cropRectangle[d]-h.w:n.cropRectangle[d]+h.w,l=u<n.cropRectangle[f]?n.cropRectangle[f]-h.h:n.cropRectangle[f]+h.h,n.cropRectangle[t]=a,n.cropRectangle[i]=l},l=function e(){document.documentElement.removeEventListener("mousemove",a,!1),document.documentElement.removeEventListener("mouseup",e,!1),document.documentElement.removeEventListener("mouseleave",e,!1),document.documentElement.removeEventListener("touchmove",a,!1),document.documentElement.removeEventListener("touchend",e,!1),document.documentElement.removeEventListener("touchleave",e,!1)};document.documentElement.addEventListener("mousemove",a,!1),document.documentElement.addEventListener("mouseup",l,!1),document.documentElement.addEventListener("mouseleave",l,!1),document.documentElement.addEventListener("touchmove",a,!1),document.documentElement.addEventListener("touchend",l,!1),document.documentElement.addEventListener("touchleave",l,!1)};e.addEventListener("mousedown",o,!1),e.addEventListener("touchstart",o,!1)},addMoveSelectionBehaviour:function(){var e=this,t=function(t){t.preventDefault();var i=t.touches?t.touches[0]:t,n=i.clientX-e.cropRectangle.topLeftX,o=i.clientY-e.cropRectangle.topLeftY,r=e.cropRectangle.bottomRightX-e.cropRectangle.topLeftX,s=e.cropRectangle.bottomRightY-e.cropRectangle.topLeftY,a=function(t){var i=t.touches?t.touches[0]:t,a=i.clientX-n,l=i.clientY-o;a<e.imageX?a=e.imageX:a+r>e.imageWidth&&(a=e.imageWidth-r),l<e.imageY?l=e.imageY:l+s>e.imageHeight&&(l=e.imageHeight-s),e.cropRectangle.topLeftX=a,e.cropRectangle.topLeftY=l,e.cropRectangle.bottomRightX=a+r,e.cropRectangle.bottomRightY=l+s},l=function e(){document.documentElement.removeEventListener("mousemove",a,!1),document.documentElement.removeEventListener("mouseup",e,!1),document.documentElement.removeEventListener("mouseleave",e,!1),document.documentElement.removeEventListener("touchmove",a,!1),document.documentElement.removeEventListener("touchend",e,!1),document.documentElement.removeEventListener("touchleave",e,!1)};document.documentElement.addEventListener("mousemove",a,!1),document.documentElement.addEventListener("mouseup",l,!1),document.documentElement.addEventListener("mouseleave",l,!1),document.documentElement.addEventListener("touchmove",a,!1),document.documentElement.addEventListener("touchend",l,!1),document.documentElement.addEventListener("touchleave",l,!1)};this.$refs.cropArea.addEventListener("mousedown",t,!1),this.$refs.cropArea.addEventListener("touchstart",t,!1)},initialize:function(){if(void 0!==this.aspectRatio){var e=this.calculateRectangleMaintainingAspectRatio(this.imageWidth-this.imageX,this.imageHeight-this.imageY);this.cropRectangle.topLeftX=(this.imageWidth+this.imageX-e.w)/2,this.cropRectangle.topLeftY=(this.imageHeight+this.imageY-e.h)/2,this.cropRectangle.bottomRightX=this.cropRectangle.topLeftX+e.w,this.cropRectangle.bottomRightY=this.cropRectangle.topLeftY+e.h}else this.cropRectangle.topLeftX=this.imageX,this.cropRectangle.topLeftY=this.imageY,this.cropRectangle.bottomRightX=this.imageWidth,this.cropRectangle.bottomRightY=this.imageHeight,pa("crop initialized",this.cropRectangle)},undoCrop:function(){this.$store.commit("SET_CROP_RECTANGLE",null),this.$store.commit("REMOVE_TRANSFORMATION","crop"),this.performTransformations()}}),mounted:function(){pa("crop mounted"),this.imageLoading||this.cachedCropRectangle||(this.addMarkerBehaviour(this.$refs.topLeftMarker,"topLeftX","topLeftY"),this.addMarkerBehaviour(this.$refs.topRightMarker,"bottomRightX","topLeftY"),this.addMarkerBehaviour(this.$refs.bottomLeftMarker,"topLeftX","bottomRightY"),this.addMarkerBehaviour(this.$refs.bottomRightMarker,"bottomRightX","bottomRightY"),this.addMoveSelectionBehaviour(),this.initialize())},destroyed:function(){this.performTransformations()}},ya={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("div",{staticClass:"fst-radio-check-container"},[i("label",{attrs:{for:"on"}},[e._v("On:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.on,expression:"on"}],attrs:{id:"on",type:"radio",value:"true"},domProps:{checked:e._q(e.on,"true")},on:{change:e.applyTransform,__c:function(t){e.on="true"}}}),i("div",{staticClass:"fst-radio-check"})]),i("div",{staticClass:"fst-radio-check-container"},[i("label",{attrs:{for:"off"}},[e._v("Off:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.on,expression:"on"}],attrs:{id:"off",type:"radio",value:"false"},domProps:{checked:e._q(e.on,"false")},on:{change:e.applyTransform,__c:function(t){e.on="false"}}}),i("div",{staticClass:"fst-radio-check"})])])])},staticRenderFns:[],computed:fn({},Hr.mapGetters(["transformations"])),data:function(){return{on:!1}},methods:fn({},Hr.mapActions(["performTransformations"]),{applyTransform:function(){"true"!==this.on?this.$store.commit("REMOVE_TRANSFORMATION","circle"):this.$store.commit("SET_TRANSFORMATION",{type:"circle",options:{}}),this.performTransformations()}}),mounted:function(){this.on=!!this.transformations.circle||!1}},ba={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"wrap",class:["vue-slider-wrap",e.flowDirection,e.disabledClass],style:e.wrapStyles,on:{click:e.wrapClick}},[i("div",{ref:"elem",staticClass:"vue-slider",style:[e.elemStyles,e.bgStyle]},[e.isMoblie?[e.isRange?[i("div",{ref:"dot0",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles[0],e.dotStyles],on:{touchstart:function(t){e.moveStart(0)}}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection[0],"vue-slider-tooltip"],style:e.tooltipStyles[0]},[e._v(e._s(e.formatter?e.formatting(e.val[0]):e.val[0]))])]),i("div",{ref:"dot1",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles[1],e.dotStyles],on:{touchstart:function(t){e.moveStart(1)}}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection[1],"vue-slider-tooltip"],style:e.tooltipStyles[1]},[e._v(e._s(e.formatter?e.formatting(e.val[1]):e.val[1]))])])]:[i("div",{ref:"dot",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles,e.dotStyles],on:{touchstart:e.moveStart}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection,"vue-slider-tooltip"],style:e.tooltipStyles},[e._v(e._s(e.formatter?e.formatting(e.val):e.val))])])]]:[e.isRange?[i("div",{ref:"dot0",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles[0],e.dotStyles],on:{mousedown:function(t){e.moveStart(0)}}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection[0],"vue-slider-tooltip"],style:e.tooltipStyles[0]},[e._v(e._s(e.formatter?e.formatting(e.val[0]):e.val[0]))])]),i("div",{ref:"dot1",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles[1],e.dotStyles],on:{mousedown:function(t){e.moveStart(1)}}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection[1],"vue-slider-tooltip"],style:e.tooltipStyles[1]},[e._v(e._s(e.formatter?e.formatting(e.val[1]):e.val[1]))])])]:[i("div",{ref:"dot",class:[e.tooltipStatus,"vue-slider-dot"],style:[e.sliderStyles,e.dotStyles],on:{mousedown:e.moveStart}},[i("span",{class:["vue-slider-tooltip-"+e.tooltipDirection,"vue-slider-tooltip"],style:e.tooltipStyles},[e._v(e._s(e.formatter?e.formatting(e.val):e.val))])])]],e.piecewise?[i("ul",{staticClass:"vue-slider-piecewise"},e._l(e.piecewiseDotPos,function(t){return i("li",{style:[e.piecewiseStyles,e.piecewiseStyle,t]})}))]:e._e(),i("div",{ref:"process",staticClass:"vue-slider-process",style:e.processStyle})],2)])},staticRenderFns:[],data:function(){return{flag:!1,size:0,currentValue:0,currentSlider:0}},props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:6},data:{type:Array,default:null},dotSize:{type:Number,default:16},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},value:{type:[String,Number,Array],default:0},sliderStyle:[Array,Object],tooltipDir:[Array,String],formatter:[String,Function],piecewiseStyle:Object,processStyle:Object,bgStyle:Object,tooltipStyle:[Array,Object]},computed:{flowDirection:function(){return"vue-slider-"+this.direction+(this.reverse?"-reverse":"")},tooltipDirection:function(){var e=this.tooltipDir||("vertical"===this.direction?"left":"top");return Array.isArray(e)?this.isRange?e:e[1]:this.isRange?[e,e]:e},tooltipStatus:function(){return"hover"===this.tooltip&&this.flag?"vue-slider-always":this.tooltip?"vue-slider-"+this.tooltip:""},tooltipClass:function(){return["vue-slider-tooltip-"+this.tooltipDirection,"vue-slider-tooltip"]},isMoblie:function(){return"touch"===this.eventType||"mouse"!==this.eventType&&/(iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone|Mobile)/i.test(navigator.userAgent)},isDisabled:function(){return"none"===this.eventType||this.disabled},disabledClass:function(){return this.disabled?"vue-slider-disabled":""},isRange:function(){return Array.isArray(this.value)},slider:function(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:this.$refs.dot},minimum:function(){return this.data?0:this.min},val:{get:function(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set:function(e){if(this.data)if(this.isRange){var t=this.data.indexOf(e[0]),i=this.data.indexOf(e[1]);t>-1&&i>-1&&(this.currentValue=[t,i])}else{var n=this.data.indexOf(e);n>-1&&(this.currentValue=n)}else this.currentValue=e}},maximum:function(){return this.data?this.data.length-1:this.max},multiple:function(){var e=(""+this.interval).split(".")[1];return e?Math.pow(10,e.length):1},spacing:function(){return this.data?1:this.interval},total:function(){return this.data?this.data.length-1:(~~((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!=0&&console.error("[Vue-slider warn]: Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap:function(){return this.size/this.total},position:function(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap,(this.currentValue[1]-this.minimum)/this.spacing*this.gap]:(this.currentValue-this.minimum)/this.spacing*this.gap},limit:function(){return this.isRange?[[0,this.position[1]],[this.position[0],this.size]]:[0,this.size]},valueLimit:function(){return this.isRange?[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},wrapStyles:function(){return"vertical"===this.direction?{height:"number"==typeof this.height?this.height+"px":this.height,padding:this.dotSize/2+"px"}:{width:"number"==typeof this.width?this.width+"px":this.width,padding:this.dotSize/2+"px"}},sliderStyles:function(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},tooltipStyles:function(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles:function(){return"vertical"===this.direction?{width:this.width+"px",height:"100%"}:{height:this.height+"px"}},dotStyles:function(){return"vertical"===this.direction?{width:this.dotSize+"px",height:this.dotSize+"px",left:-(this.dotSize-this.width)/2+"px"}:{width:this.dotSize+"px",height:this.dotSize+"px",top:-(this.dotSize-this.height)/2+"px"}},piecewiseStyles:function(){return"vertical"===this.direction?{width:this.width+"px",height:this.width+"px"}:{width:this.height+"px",height:this.height+"px"}},piecewiseDotPos:function(){for(var e=[],t=1;t<this.total;t++)e.push("vertical"===this.direction?{bottom:this.gap*t-this.width/2+"px",left:"0"}:{left:this.gap*t-this.height/2+"px",top:"0"});return e}},watch:{value:function(e){this.flag||this.setValue(e)},show:function(e){var t=this;e&&!this.size&&this.$nextTick(function(){t.refresh()})}},methods:{bindEvents:function(){this.isMoblie?(document.addEventListener("touchmove",this.moving),document.addEventListener("touchend",this.moveEnd)):(document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd))},unbindEvents:function(){window.removeEventListener("resize",this.refresh),this.isMoblie?(document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd)):(document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd))},formatting:function(e){return"string"==typeof this.formatter?this.formatter.replace(/\{value\}/,e):this.formatter(e)},getPos:function(e){return this.realTime&&this.getStaticData(),"vertical"===this.direction?this.reverse?e.pageY-this.offset:this.size-(e.pageY-this.offset):this.reverse?this.size-(e.clientX-this.offset):e.clientX-this.offset},wrapClick:function(e){if(this.isDisabled||!this.clickable)return!1;var t=this.getPos(e);this.isRange&&(this.currentSlider=t>(this.position[1]-this.position[0])/2+this.position[0]?1:0),this.setValueOnPos(t)},moveStart:function(e){if(this.isDisabled)return!1;this.isRange&&(this.currentSlider=e),this.flag=!0,this.$emit("drag-start",this)},moving:function(e){if(!this.flag)return!1;e.preventDefault(),this.isMoblie&&(e=e.targetTouches[0]),this.setValueOnPos(this.getPos(e),!0)},moveEnd:function(e){if(!this.flag)return!1;this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&(this.$emit("callback",this.val),this.$emit("input",this.isRange?this.val.slice():this.val)),this.flag=!1,this.setPosition()},setValueOnPos:function(e,t){var i=this.isRange?this.limit[this.currentSlider]:this.limit,n=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit;if(e>=i[0]&&e<=i[1]){this.setTransform(e);var o=(Math.round(e/this.gap)*(this.spacing*this.multiple)+this.minimum*this.multiple)/this.multiple;this.setCurrentValue(o,t)}else e<i[0]?(this.setTransform(i[0]),this.setCurrentValue(n[0]),1===this.currentSlider&&(this.currentSlider=0)):(this.setTransform(i[1]),this.setCurrentValue(n[1]),0===this.currentSlider&&(this.currentSlider=1))},isDiff:function(e,t){return Object.prototype.toString.call(e)!==Object.prototype.toString.call(t)||(Array.isArray(e)&&e.length===t.length?e.some(function(e,i){return e!==t[i]}):e!==t)},setCurrentValue:function(e,t){if(e<this.minimum||e>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[this.currentSlider],e)&&(this.currentValue.splice(this.currentSlider,1,e),this.lazy&&this.flag||(this.$emit("callback",this.val),this.$emit("input",this.isRange?this.val.slice():this.val))):this.isDiff(this.currentValue,e)&&(this.currentValue=e,this.lazy&&this.flag||(this.$emit("callback",this.val),this.$emit("input",this.isRange?this.val.slice():this.val))),t||this.setPosition()},setIndex:function(e){if(Array.isArray(e)&&this.isRange){var t=void 0;t=this.data?[this.data[e[0]],this.data[e[1]]]:[this.spacing*e[0]+this.minimum,this.spacing*e[1]+this.minimum],this.setValue(t)}else e=this.spacing*e+this.minimum,this.isRange&&(this.currentSlider=e>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(e)},setValue:function(e,t){var i=this;this.isDiff(this.val,e)&&(this.val=e,this.$emit("callback",this.val),this.$emit("input",this.isRange?this.val.slice():this.val)),this.$nextTick(function(){i.setPosition(t)})},setPosition:function(e){this.flag||this.setTransitionTime(void 0===e?this.speed:e),this.isRange?(this.currentSlider=0,this.setTransform(this.position[this.currentSlider]),this.currentSlider=1,this.setTransform(this.position[this.currentSlider])):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform:function(e){var t=("vertical"===this.direction?this.dotSize/2-e:e-this.dotSize/2)*(this.reverse?-1:1),i="vertical"===this.direction?"translateY("+t+"px)":"translateX("+t+"px)",n=(0===this.currentSlider?this.position[1]-e:e-this.position[0])+"px",o=(0===this.currentSlider?e:this.position[0])+"px";this.isRange?(this.slider[this.currentSlider].style.transform=i,this.slider[this.currentSlider].style.WebkitTransform=i,this.slider[this.currentSlider].style.msTransform=i,"vertical"===this.direction?(this.$refs.process.style.height=n,this.$refs.process.style[this.reverse?"top":"bottom"]=o):(this.$refs.process.style.width=n,this.$refs.process.style[this.reverse?"right":"left"]=o)):(this.slider.style.transform=i,this.slider.style.WebkitTransform=i,this.slider.style.msTransform=i,"vertical"===this.direction?(this.$refs.process.style.height=e+"px",this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width=e+"px",this.$refs.process.style[this.reverse?"right":"left"]=0))},setTransitionTime:function(e){if(e||this.$refs.process.offsetWidth,this.isRange){for(var t=0;t<this.slider.length;t++)this.slider[t].style.transitionDuration=e+"s",this.slider[t].style.WebkitTransitionDuration=e+"s";this.$refs.process.style.transitionDuration=e+"s",this.$refs.process.style.WebkitTransitionDuration=e+"s"}else this.slider.style.transitionDuration=e+"s",this.slider.style.WebkitTransitionDuration=e+"s",this.$refs.process.style.transitionDuration=e+"s",this.$refs.process.style.WebkitTransitionDuration=e+"s"},getValue:function(){return this.val},getIndex:function(){return Array.isArray(this.currentValue)?this.data?this.currentValue:[(this.currentValue[0]-this.minimum)/this.spacing,(this.currentValue[1]-this.minimum)/this.spacing]:(this.currentValue-this.minimum)/this.spacing},getStaticData:function(){this.$refs.elem&&(this.size="vertical"===this.direction?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.offset="vertical"===this.direction?this.$refs.elem.getBoundingClientRect().top+window.pageYOffset||document.documentElement.scrollTop:this.$refs.elem.getBoundingClientRect().left)},refresh:function(){this.$refs.elem&&(this.getStaticData(),this.setPosition())}},created:function(){window.addEventListener("resize",this.refresh)},mounted:function(){var e=this;this.$nextTick(function(){e.getStaticData(),e.setValue(e.value,0),e.bindEvents()})},beforeDestroy:function(){this.unbindEvents()}},Ca={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("vue-slider",{ref:"slider",attrs:{min:0,max:360,interval:15,piecewise:!0,formatter:function(e){return e+"°"},"process-style":{"background-color":"rgb(46, 104, 251)"},"tooltip-style":{"background-color":"rgb(46, 104, 251)",border:"1px solid rgb(46, 104, 251)"}},model:{value:e.options.deg,callback:function(t){e.options.deg=t},expression:"options.deg"}})],1)])},staticRenderFns:[],components:{vueSlider:ba},computed:fn({},Hr.mapGetters(["transformations"])),data:function(){return{options:{deg:0}}},methods:fn({},Hr.mapActions(["performTransformations"]),{applyTransform:function(){var e=fn({},this.options);this.options.exif&&delete e.deg,0===this.options.deg||360===this.options.deg?this.$store.commit("REMOVE_TRANSFORMATION","rotate"):this.$store.commit("SET_TRANSFORMATION",{type:"rotate",options:e}),this.performTransformations()}}),mounted:function(){this.options=fn({},this.options,this.transformations.rotate)},watch:{options:{deep:!0,handler:function(){this.applyTransform()}}}},Ea={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("label",{attrs:{for:"deg"}},[e._v("Threshold:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.threshold,expression:"options.threshold",modifiers:{number:!0}}],attrs:{id:"deg",type:"range",min:"0",max:"100"},domProps:{value:e.options.threshold},on:{change:e.applyTransform,__r:function(t){e.options.threshold=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}}),i("div",{staticClass:"fst-options__option"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.threshold,expression:"options.threshold",modifiers:{number:!0}}],attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.options.threshold},on:{change:e.applyTransform,input:function(t){t.target.composing||(e.options.threshold=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])])])},staticRenderFns:[],computed:fn({},Hr.mapGetters(["transformations"])),data:function(){return{options:{threshold:0}}},methods:fn({},Hr.mapActions(["performTransformations"]),{applyTransform:function(){this.$store.commit("SET_TRANSFORMATION",{type:"blackwhite",options:this.options}),this.performTransformations()}}),mounted:function(){this.options=fn({},this.options,this.transformations.blackwhite)}},Sa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("div",{staticClass:"fst-radio-check-container"},[i("label",{attrs:{for:"on"}},[e._v("On:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.on,expression:"on"}],attrs:{id:"on",type:"radio",value:"true"},domProps:{checked:e._q(e.on,"true")},on:{change:e.applyTransform,__c:function(t){e.on="true"}}}),i("div",{staticClass:"fst-radio-check"})]),i("div",{staticClass:"fst-radio-check-container"},[i("label",{attrs:{for:"off"}},[e._v("Off:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.on,expression:"on"}],attrs:{id:"off",type:"radio",value:"false"},domProps:{checked:e._q(e.on,"false")},on:{change:e.applyTransform,__c:function(t){e.on="false"}}}),i("div",{staticClass:"fst-radio-check"})])])])},staticRenderFns:[],computed:fn({},Hr.mapGetters(["transformations"])),data:function(){return{on:!1}},methods:fn({},Hr.mapActions(["performTransformations"]),{applyTransform:function(){var e=!("true"!==this.on);this.$store.commit("SET_TRANSFORMATION",{type:"monochrome",options:e}),this.performTransformations()}}),mounted:function(){this.on=this.transformations.monochrome||!1}},wa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-options-bar"},[i("div",{staticClass:"fst-options__option"},[i("vue-slider",{ref:"slider",attrs:{min:0,max:100,formatter:function(e){return"Tone: "+e},"process-style":{"background-color":"rgb(46, 104, 251)"},"tooltip-style":{"background-color":"rgb(46, 104, 251)",border:"1px solid rgb(46, 104, 251)"}},model:{value:e.options.tone,callback:function(t){e.options.tone=t},expression:"options.tone"}})],1)])},staticRenderFns:[],components:{vueSlider:ba},computed:fn({},Hr.mapGetters(["transformations"])),data:function(){return{options:{tone:0}}},methods:fn({},Hr.mapActions(["performTransformations"]),{applyTransform:function(){0===this.options.tone?this.$store.commit("REMOVE_TRANSFORMATION","sepia"):this.$store.commit("SET_TRANSFORMATION",{type:"sepia",options:this.options}),this.performTransformations()}}),mounted:function(){this.options=fn({},this.options,this.transformations.sepia)},watch:{options:{deep:!0,handler:function(){this.applyTransform()}}}},Ta={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-sidebar"},e._l(e.enabled,function(t){return i("div",{staticClass:"fst-sidebar__option",class:{"fst-sidebar__option--active":t===e.activeTransform},on:{click:function(i){e.handleClick(t)}}},[i("span",{staticClass:"fst-icon",class:e.genIconClass(t)}),e._v(" "+e._s(t))])}))},staticRenderFns:[],computed:fn({},Hr.mapGetters(["enabled","activeTransform"])),methods:{handleClick:function(e){this.$store.commit("SET_ACTIVE_TRANSFORM",e)},genIconClass:function(e){return this.activeTransform===e?"fst-icon--"+e+"-white":"fst-icon--"+e+"-black"}}},Aa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fst-transform"},[i("div",{staticClass:"fst-modal"},[i("transforms"),i("div",{staticClass:"fst-modal__body"},[i("div",{staticClass:"fst-container"},[i("div",{staticClass:"fst-content"},[i("img",{ref:"image",staticClass:"fst-image",attrs:{src:e.imageUrl},on:{load:e.imageLoaded}}),e.imageLoading?i("div",{staticClass:"fst-image-loader"}):e._e(),"crop"===e.activeTransform?i("crop",{attrs:{"image-width":e.imageWidth,"image-height":e.imageHeight,"image-x":e.imageX,"image-y":e.imageY}}):e._e(),"rotate"===e.activeTransform?i("rotate"):e._e(),"blackwhite"===e.activeTransform?i("black-white"):e._e(),"monochrome"===e.activeTransform?i("monochrome"):e._e(),"circle"===e.activeTransform?i("circle-view"):e._e(),"sepia"===e.activeTransform?i("sepia"):e._e()],1)]),i("div",{staticClass:"fst-footer"},[i("div",{staticClass:"fst-button fst-button--cancel",on:{click:e.cancel}},[e._v("Cancel")]),i("div",{staticClass:"fst-button fst-button--primary",on:{click:e.done}},[e._v("Done")])])])],1)])},staticRenderFns:[],components:{"circle-view":ya,Crop:_a,Rotate:Ca,BlackWhite:Ea,Monochrome:Sa,Sepia:wa,Transforms:Ta},data:function(){return{imageWidth:0,imageHeight:0}},computed:fn({},Hr.mapGetters(["imageUrl","activeTransform","imageLoading"])),methods:fn({},Hr.mapActions(["performTransformations"]),{imageLoaded:function(){if(this.$refs.image){var e=this.$refs.image.offsetLeft,t=this.$refs.image.offsetTop;this.imageWidth=this.$refs.image.offsetWidth+e,this.imageHeight=this.$refs.image.offsetHeight+t,this.imageX=e,this.imageY=t;var i=this.$refs.image.naturalWidth,n=this.$refs.image.naturalHeight;this.$store.commit("SET_IMAGE_NATURAL_SIZE",{w:i,h:n}),this.$store.commit("SET_IMAGE_LOADING",!1)}},cancel:function(){this.$root.$destroy()},done:function(){this.performTransformations({done:!0}),this.$root.$destroy()}})};tt.use(Hr);var Fa={imageNaturalWidth:0,imageNaturalHeight:0,imageLoading:!0,transformations:{},cropRectangle:null,activeTransform:null},ka=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t){var i=e.getSecurity();return i&&i.policy&&i.signature&&t.indexOf("https://process.filestackapi.com")===-1&&t.indexOf("https://process-stage.filestackapi.com")===-1?t+"?policy="+i.policy+"&signature="+i.signature:t};return new Hr.Store({state:fn({},Fa,{config:t},n),mutations:{SET_IMAGE_NATURAL_SIZE:function(e,t){e.imageNaturalWidth=t.w,e.imageNaturalHeight=t.h},SET_CROP_RECTANGLE:function(e,t){e.cropRectangle=t},SET_ACTIVE_TRANSFORM:function(e,t){e.activeTransform=t},SET_NEW_URL:function(e,t){var i=o(t);e.config.imageUrl=i},SET_TRANSFORMATION:function(e,t){var i=t.type,n=t.options;tt.set(e.transformations,i,n)},REMOVE_TRANSFORMATION:function(e,t){tt.delete(e.transformations,t)},SET_IMAGE_LOADING:function(e,t){e.imageLoading=t}},actions:{performTransformations:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.state,r=fn({},o.transformations);if(o.transformations.crop){var s=o.transformations.crop.dim;t.commit("SET_CROP_RECTANGLE",s),o.config.minDimensions&&(o.config.minDimensions[0]>s.width||o.config.minDimensions[1]>s.height)&&(r.resize={},r.resize.width=o.config.minDimensions[0],r.resize.height=o.config.minDimensions[1]),o.config.maxDimensions&&(o.config.maxDimensions[0]<s.width||o.config.maxDimensions[1]<s.height)&&(r.resize={},r.resize.width=o.config.maxDimensions[0],r.resize.height=o.config.maxDimensions[1])}else o.config.minDimensions&&(o.config.minDimensions[0]>o.imageNaturalWidth||o.config.minDimensions[1]>o.imageNaturalHeight)&&(r.resize={},r.resize.width=o.config.minDimensions[0],r.resize.height=o.config.minDimensions[1]),o.config.maxDimensions&&(o.config.maxDimensions[0]<o.imageNaturalWidth||o.config.maxDimensions[1]<o.imageNaturalHeight)&&(r.resize={},r.resize.width=o.config.maxDimensions[0],r.resize.height=o.config.maxDimensions[1]);if(n)try{if(Object.keys(r).length){i(e.transform(t.getters.originalUrl,r))}else i(null)}catch(e){console.log(e)}else{var a=e.transform(t.getters.originalUrl,r);t.getters.imageUrl!==a&&(t.commit("SET_NEW_URL",a),t.commit("SET_IMAGE_LOADING",!0))}}},getters:{imageUrl:function(e){return o(e.config.imageUrl)},imageLoading:function(e){return e.imageLoading},originalUrl:function(e){return e.config.originalUrl},cachedCropRectangle:function(e){return e.cropRectangle},transformations:function(e){return e.transformations},imageNaturalWidth:function(e){return e.imageNaturalWidth},imageNaturalHeight:function(e){return e.imageNaturalHeight},enabled:function(e){return Object.keys(e.config.transformations).filter(function(t){return e.config.transformations[t]})},activeTransform:function(e){return e.activeTransform},cropAspectRatio:function(e){
return e.config.transformations.crop&&e.config.transformations.crop.aspectRatio}}})},Ra=function(e){return"object"===(void 0===e?"undefined":un(e))&&null!==e&&Array.isArray(e)===!1&&e instanceof HTMLElement==!1},Oa=function(e){return"number"==typeof e},La={imageUrl:function(e){return e},container:function(e){if(e instanceof HTMLElement)return e;throw new Error('Invalid value for "container" config option')},minDimensions:function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "minDimensions" requires array of numbers')}throw new Error('Option "minDimensions" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "minDimensions" config option')},maxDimensions:function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "maxDimensions" requires array of numbers')}throw new Error('Option "maxDimensions" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "maxDimensions" config option')},transformations:function(e){if(Ra(e))return e;throw new Error('Invalid value for "transformations" config option')},"transformations.crop":function(e){if(Ra(e))return e;if(e===!0)return{};if(e===!1)return!1;throw new Error('Invalid value for "transformations.crop" config option')},"transformations.crop.aspectRatio":function(e){if(Oa(e))return e;throw new Error('Invalid value for "transformations.crop.aspectRatio" config option')},"transformations.rotate":function(e){if("boolean"==typeof e)return e;throw new Error('Invalid value for "transformations.rotate" config option')},"transformations.blackwhite":function(e){if("boolean"==typeof e)return e;throw new Error('Invalid value for "transformations.blackwhite" config option')},"transformations.monochrome":function(e){if("boolean"==typeof e)return e;throw new Error('Invalid value for "transformations.monochrome" config option')},"transformations.circle":function(e){if("boolean"==typeof e)return e;throw new Error('Invalid value for "transformations.circle" config option')},"transformations.sepia":function(e){if("boolean"==typeof e)return e;throw new Error('Invalid value for "transformations.sepia" config option')}},Na=function(e){return void 0===e.transformations&&(e.transformations={crop:!0}),e},xa=function e(t,i){var n={};return Object.keys(t).forEach(function(o){var r=o;i&&(r=i+"."+o);var s=La[r];if(!s)throw new Error('Unknown config option "'+r+'"');var a=s(t[o]);Ra(a)?n[o]=e(a,r):n[o]=a}),n},Ia=Ar.context("transformer"),Da=function(e,t,i){return new Promise(function(n){var o=function(e){n(e)},r=document.body;t.container&&(r=t.container);var s=document.createElement("div");r.appendChild(s);var a=new tt({el:s,store:ka(e,t,o,i),render:function(e){return e(Aa)},destroyed:function(){return a.$el.parentNode.removeChild(a.$el),o()}})})},$a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ia("Starting transformer v0.4.1 with config:",i),i=fn({imageUrl:t},i),i=xa(Na(i)),i.originalUrl=t,Nr.loadCss(cn.css.main).then(function(){return Da(e,i,n)})},Ua={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker"},[i("div",{ref:"container"}),e._m(0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker__footer"},[e._v("Powered by "),i("span",{staticClass:"fsp-icon--filestack"}),e._v(" Filestack")])}],computed:fn({},Hr.mapGetters(["apiClient","stagedForTransform","transformOptions","uploadInBackground"])),methods:fn({},Hr.mapActions(["startUploading"]),{showInTransformer:function(e){var t=this;$a(this.apiClient,e.url,fn({},this.transformOptions,{container:this.$refs.container}),{transformations:{}}).then(function(i){t.$store.commit("SET_FILE_TRANSFORMATION",{uploadToken:e.uploadToken,transformedUrl:i})}).then(function(){t.$store.commit("GO_BACK_WITH_ROUTE"),t.uploadInBackground&&t.startUploading()})}}),mounted:function(){this.showInTransformer(this.stagedForTransform)}},Ma={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker"},[i("close-button"),i("div",{staticClass:"fsp-modal"},[i("sidebar"),i("div",{staticClass:"fsp-modal__body"},[i("div",{staticClass:"fsp-container"},[e.uploadStarted||e.mobileNavActive?e._e():i("div",{staticClass:"fsp-summary__go-back",attrs:{title:"Go back"},on:{click:e.goBack}}),i("content-header",[e.mobileNavActive?e._e():i("span",{staticClass:"fsp-header-text--visible"},[e._v(e._s(e.headerText))])]),i("div",{staticClass:"fsp-content fsp-content--selected-items"},[i("div",{staticClass:"fsp-summary"},[i("div",{staticClass:"fsp-summary__header"},[i("div",{staticClass:"fsp-summary__filter"},[i("input",{attrs:{placeholder:e.placeholderText},on:{input:e.updateFilter}}),e._v(" "),i("span",{staticClass:"fsp-summary__filter-icon"})])]),i("div",{staticClass:"fsp-summary__body"},[e.onlyTransformedImages.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Edited Images")))]):e._e(),e.onlyTransformedImages.length?i("div",{staticClass:"fsp-summary__images-container"},e._l(e.onlyTransformedImages,function(t){return i("div",{key:t.uploadToken,staticClass:"fsp-summary__item"},["local_file_system"===t.source?i("img",{ref:t.uploadToken,refInFor:!0,staticClass:"fsp-summary__thumbnail",attrs:{src:e.generateThumbnail(t)},on:{load:function(i){e.revokeURL(t)}}}):i("div",[i("img",{staticClass:"fsp-summary__thumbnail",attrs:{src:t.transformed||t.thumbnail}})]),i("span",{staticClass:"fsp-summary__item-name"},[e._v(e._s(t.name)+" "),"local_file_system"===t.source?i("span",{staticClass:"fsp-summary__size"},[e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),e._v(e._s(e.translatedFileSize(t.size)))]):e._e()]),i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[e.disableTransformer||e.isLoading(t.uploadToken)?e._e():i("span",[i("span",{staticClass:"fsp-summary__action fsp-summary__action--button",on:{click:function(i){e.removeTransformation(t)}}},[e._v(e._s(e.t("Revert")))])]),i("span",{staticClass:"fsp-summary__action-separator"}),e._v(" "),i("span",{staticClass:"fsp-summary__action fsp-summary__action--remove",on:{click:function(i){e.addFile(t)}}})])])})):e._e(),e.onlyImages.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Images")))]):e._e(),e.onlyImages.length?i("div",{staticClass:"fsp-summary__images-container"},e._l(e.onlyImages,function(t){return i("div",{key:t.uploadToken,staticClass:"fsp-summary__item"},["local_file_system"===t.source?i("img",{ref:t.uploadToken,refInFor:!0,staticClass:"fsp-summary__thumbnail",attrs:{src:e.generateThumbnail(t)},on:{load:function(i){e.revokeURL(t)}}}):i("div",[i("img",{staticClass:"fsp-summary__thumbnail",attrs:{src:t.transformed||t.thumbnail}})]),i("span",{staticClass:"fsp-summary__item-name"},[e._v(e._s(t.name)+" "),"local_file_system"===t.source?i("span",{staticClass:"fsp-summary__size"},[e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),e._v(e._s(e.translatedFileSize(t.size)))]):e._e()]),i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[e.isLoading(t.uploadToken)?i("span",{staticClass:"fsp-summary__action fsp-summary__action--button fsp-summary__action--disabled fsp-summary__action--loading"},[e._v("Loading... "),i("span",{staticClass:"fsp-loading--folder"})]):e._e(),e.disableTransformer||e.isLoading(t.uploadToken)?e._e():i("span",[i("span",{staticClass:"fsp-summary__action fsp-summary__action--button",on:{click:function(i){e.transformImage(t)}}},[e._v(e._s(e.t("Edit")))])]),i("span",{staticClass:"fsp-summary__action-separator"}),e._v(" "),i("span",{staticClass:"fsp-summary__action fsp-summary__action--remove",on:{click:function(i){e.addFile(t)}}})])])})):e._e(),e.onlyFiles.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Files")))]):e._e(),e._l(e.onlyFiles,function(t){return i("div",{key:t.uploadToken,staticClass:"fsp-summary__item"},[i("div",{staticClass:"fsp-summary__thumbnail-container"},[i("span",{class:e.generateClass(t)})]),i("span",{staticClass:"fsp-summary__item-name"},[e._v(e._s(t.name)+" "),"local_file_system"===t.source?i("span",{staticClass:"fsp-summary__size"},[e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),e._v(e._s(e.translatedFileSize(t.size)))]):e._e()]),i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[i("div",{staticClass:"fsp-summary__action",on:{click:function(i){e.addFile(t)}}},[i("span",{staticClass:"fsp-summary__action--remove"})])])])}),e.hideMinFilesNotification?e._e():i("div",{staticClass:"fsp-notifications__container"},[i("div",{staticClass:"fsp-notifications__message"},[i("span",{staticClass:"fsp-label"},[e._v(e._s(e.getMinFilesNotification))])]),i("span",{staticClass:"fsp-notifications__back-button",on:{click:e.goBack}},[e._v(e._s(e.t("Go Back")))])])],2)])])],1),i("footer-nav",{attrs:{"is-visible":!e.uploadStarted}},[i("span",{staticClass:"fsp-button fsp-button--flat fsp-button__deselect",on:{click:e.deselectAllFiles},slot:"nav-left"},[e._v(e._s(e.t("Deselect All")))]),e._v(" "),i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":!e.canStartUpload},attrs:{title:"Upload"},on:{click:e.startUploadMaybe},slot:"nav-right"},[e._v(e._s(e.t("Upload"))+" "),i("span",{staticClass:"fsp-badge fsp-badge--bright"},[e._v(e._s(e.allFiles.length))])])])],1)],1),e._m(0)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-picker__footer"},[e._v("Powered by "),i("span",{staticClass:"fsp-icon--filestack"}),e._v(" Filestack")])}],components:{CloseButton:ts,ContentHeader:Vs,Sidebar:Xs,FooterNav:Gs},computed:fn({},Hr.mapGetters(["allFilesInQueueCount","filesWaiting","filesUploading","filesDone","filesFailed","route","routesHistory","uploadStarted","minFiles","canStartUpload","filesNeededCount","disableTransformer","mobileNavActive"]),{allFiles:function(){return this.filesUploading.concat(this.filesWaiting)},getMinFilesNotification:function(){return 1===this.filesNeededCount?this.t("Please select")+" 1 "+this.t("more file"):this.filesNeededCount>1?this.t("Please select")+" "+this.filesNeededCount+" "+this.t("more files"):null},hideMinFilesNotification:function(){return this.uploadStarted||this.canStartUpload},onlyFiles:function(){var e=this,t=new RegExp(this.filter,"i");return this.allFiles.filter(function(t){return!e.isImage(t)}).filter(function(e){return t.test(e.name)})},onlyImages:function(){var e=this,t=new RegExp(this.filter,"i");return this.allFiles.filter(function(t){return e.isImage(t)}).filter(function(e){return!e.transformed}).filter(function(e){return t.test(e.name)})},onlyTransformedImages:function(){var e=this,t=new RegExp(this.filter,"i");return this.allFiles.filter(function(t){return e.isImage(t)}).filter(function(e){return e.transformed}).filter(function(e){return t.test(e.name)})},headerText:function(){return this.uploadStarted?this.t("Uploaded")+" "+this.filesDone.concat(this.filesFailed).length+" "+this.t("of")+" "+this.allFilesInQueueCount:this.t("Selected Files")},atLeastOneLoading:function(){var e=this;return!!Object.keys(this.loading).filter(function(t){return e.loading[t]}).length},placeholderText:function(){return this.t("Filter")}}),created:function(){this.$store.commit("CANCEL_ALL_PENDING_REQUESTS")},data:function(){return{blobURLs:{},currentPath:null,currentSource:null,filter:"",loading:{}}},methods:fn({},Hr.mapActions(["addFile","deselectAllFiles","deselectFolder","removeTransformation","startUploading","uploadFileToTemporaryLocation","goBack"]),{isImage:function(e){return e.mimetype&&e.mimetype.indexOf("image/")!==-1},isAudio:function(e){return e.mimetype&&e.mimetype.indexOf("audio/")!==-1},isLoading:function(e){return this.loading[e]},fileOrFiles:function(e){return 1===this.getFileCount(e)?"File":"Files"},generateClass:function(e){return this.isAudio(e)?"fsp-grid__icon-audio":"application/pdf"===e.mimetype?"fsp-grid__icon-pdf":"fsp-grid__icon-file"},translatedFileSize:function(e){return us(e)},generateThumbnail:function(e){if(e.transformed)return e.transformed;var t=window.URL.createObjectURL(e.originalFile);return this.blobURLs[e.uploadToken]=t,t},revokeURL:function(e){var t=this.blobURLs[e.uploadToken];window.URL.revokeObjectURL(t)},updateFilter:function(e){this.filter=e.target.value},startUploadMaybe:function(){this.canStartUpload&&this.startUploading(!0)},transformImage:function(e){var t=this;if(!this.atLeastOneLoading){var i=e.uploadToken;this.loading=fn({},this.loading,dn({},i,!0)),this.uploadFileToTemporaryLocation(i).then(function(e){e?(t.loading=fn({},t.loading,dn({},i,!1)),t.$store.commit("SET_FILE_FOR_TRANSFORM",e),t.$store.commit("CHANGE_ROUTE",["transform"])):t.loading=fn({},t.loading,dn({},i,!1))}).catch(function(){t.loading=fn({},t.loading,dn({},i,!1))})}}}),watch:{allFiles:{handler:function(e){0===e.length&&this.$store.commit("GO_BACK_WITH_ROUTE")}}}},Pa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.uiVisible?i("div",[e.isRootRoute("source")?i("pick-from-source"):e._e(),e.isRootRoute("summary")?i("upload-summary"):e._e(),e.isRootRoute("transform")?i("transform"):e._e(),i("notifications"),e.localPickingAllowed?i("drag-and-drop"):e._e()],1):e._e()},staticRenderFns:[],components:{DragAndDrop:Zr,Notifications:Qr,PickFromSource:qs,Transform:Ua,UploadSummary:Ma},computed:fn({},Hr.mapGetters(["uiVisible","route","fromSources","pendingReqs"]),{localPickingAllowed:function(){return this.fromSources.some(function(e){return"local_file_system"===e.name})}}),methods:fn({},Hr.mapActions(["prefetchClouds"]),{isRootRoute:function(e){return this.route[0]===e},detectEscPressed:function(e){27===e.keyCode&&this.$root.$destroy()}}),created:function(){var e=this;window.addEventListener("keyup",this.detectEscPressed),this.prefetchClouds(),this.interval=setInterval(function(){e.pendingReqs.length&&e.$store.commit("EXECUTE_PENDING_REQUEST")},500)},destroyed:function(){window.removeEventListener("keyup",this.detectEscPressed),clearInterval(this.interval),this.$store.commit("CANCEL_ALL_PENDING_REQUESTS")},watch:{route:{immediate:!0,deep:!0,handler:function(e){"done"===e[0]&&this.$root.$destroy()}}}},za=function(e){var t=void 0,i=function(e,t){return fn({source:t,sourceKind:"cloud"},e)};return{state:{currentCloudAuthorized:!0,currentCloudName:void 0,currentCloudPath:void 0,listForCurrentCloudPath:[],cache:{},cloudFolders:{},cloudsAuthorized:{},cloudsPrefetching:{},loading:!1,pendingReqs:[],pendingTokens:[]},mutations:{SET_CURRENT_CLOUD_AUTHORIZED:function(e,t){e.currentCloudAuthorized=t},SET_CURRENT_CLOUD_NAME:function(e,t){e.currentCloudName=t},SET_CLOUD_AUTHORIZED:function(e,t){var i=t.key,n=t.value;tt.set(e.cloudsAuthorized,i,n)},RESET_CLOUD_AUTHORIZED:function(e){e.cloudsAuthorized={}},SET_CURRENT_CLOUD_PATH:function(e,t){var i=t.length>0?Us(t):t,n=e.currentCloudName+i,o=e.cache[n];o&&(e.listForCurrentCloudPath=o),e.currentCloudPath=t},SET_LIST_FOR_CURRENT_CLOUD_PATH:function(e,t){var i=e.currentCloudPath,n=i.length>0?Us(i):i,o=e.currentCloudName+n;e.cache[o]=t,e.listForCurrentCloudPath=t},RESET_LIST_CURRENT_CLOUD_PATH:function(e){e.listForCurrentCloudPath=[]},SET_CLOUD_FOLDERS:function(e,t){t.forEach(function(t){e.cloudFolders[t.path]=fn({},e.cloudFolders[t.path],{name:t.name})})},SET_CLOUD_FOLDER_LOADING:function(e,t){var i=t.path,n=t.value;e.cloudFolders=fn({},e.cloudFolders,dn({},i,fn({},e.cloudFolders[i],{loading:n})))},SET_CLOUD_LOADING:function(e,t){e.loading=t},SET_CLOUD_PREFETCHING:function(e,t){var i=t.key,n=t.value;tt.set(e.cloudsPrefetching,i,n)},SET_CACHE:function(e,t){var i=t.key,n=t.value;e.cache[i]=n},RESET_CACHE:function(e){e.cache={}},ADD_PENDING_REQUEST:function(e,t){var i=t.request,n=t.token;e.pendingReqs.push({request:i,token:n})},EXECUTE_PENDING_REQUEST:function(e){var t=e.pendingReqs.pop();t&&t.request&&t.token&&(t.request(),e.pendingTokens.push(t.token))},CANCEL_ALL_PENDING_REQUESTS:function(e){e.pendingTokens.forEach(function(e){e.cancel()}),e.pendingReqs=[],e.pendingTokens=[],e.cloudsPrefetching={}}},actions:{goToDirectory:function(e,t){if(t.path!==e.getters.currentCloudPath.join("")){var i=zs(e.getters.currentCloudPath);i.push(t.path);var n=["source",e.getters.currentCloudName,i];e.commit("CHANGE_ROUTE",n)}},logout:function(t,i){i?e.cloud().logout(i).then(function(){t.commit("CANCEL_ALL_PENDING_REQUESTS"),t.commit("SET_CLOUD_AUTHORIZED",{key:i,value:!1}),t.commit("REMOVE_SOURCE_FROM_WAITING",i),Object.keys(t.state.cache).filter(function(e){return e.indexOf(i)>=0}).forEach(function(e){t.commit("SET_CACHE",{key:e,value:null})}),i===t.state.currentCloudName&&(t.commit("SET_CURRENT_CLOUD_AUTHORIZED",!1),t.commit("RESET_LIST_CURRENT_CLOUD_PATH"),t.commit("CHANGE_ROUTE",["source",i]))}):e.cloud().logout().then(function(){t.commit("RESET_CLOUD_AUTHORIZED"),t.commit("SET_CURRENT_CLOUD_AUTHORIZED",!1),t.commit("RESET_CACHE"),t.commit("RESET_LIST_CURRENT_CLOUD_PATH"),t.commit("REMOVE_CLOUDS_FROM_WAITING"),t.commit("CANCEL_ALL_PENDING_REQUESTS")})},prefetchClouds:function(t){t.getters.fromSources.filter(function(e){return"cloud"===e.ui}).map(function(e){return e.name}).forEach(function(n){t.commit("SET_CLOUD_PREFETCHING",{key:n,value:!0});var o=e.cloud(n),r={},s=function(){return o.list([],r).then(function(e){t.commit("SET_CLOUD_PREFETCHING",{key:n,value:!1}),t.commit("SET_CLOUD_AUTHORIZED",{key:n,value:!0});var r=e.contents.map(function(e){return i(e,n)}),s=r.filter(function(e){return e.folder});t.commit("SET_CLOUD_FOLDERS",s),t.commit("SET_CACHE",{key:n,value:r}),t.getters.currentCloudName===n&&(t.commit("SET_LIST_FOR_CURRENT_CLOUD_PATH",r),t.dispatch("prefetchFolders",{client:o,name:n,folders:s}))}).catch(function(e){t.commit("SET_CLOUD_PREFETCHING",{key:n,value:!1}),t.getters.currentCloudName===n&&401===e.status&&t.commit("SET_CURRENT_CLOUD_AUTHORIZED",{status:"unauthorized",authUrl:e.response.body.redirect_url})})};t.commit("ADD_PENDING_REQUEST",{request:s,token:r})})},prefetchFolders:function(e,t){var n=t.client,o=t.name;t.folders.forEach(function(t){var r=o+t.path;if(!e.state.cache[r]){var s={},a=function(){return e.commit("SET_CLOUD_PREFETCHING",{key:r,value:!0}),n.list(t.path,s).then(function(s){var a=e.getters.currentCloudPath,l=a.length>0?Us(a):a,c=s.contents.map(function(e){return i(e,o)}),u=c.filter(function(e){return e.folder});e.commit("SET_CLOUD_PREFETCHING",{key:r,value:!1}),e.commit("SET_CLOUD_FOLDERS",u),e.commit("SET_CACHE",{key:r,value:c}),t.path===l&&(e.commit("SET_LIST_FOR_CURRENT_CLOUD_PATH",c),e.dispatch("prefetchFolders",{client:n,name:o,folders:u}))}).catch(function(i){e.commit("SET_CLOUD_PREFETCHING",{key:r,value:!1});var n=e.getters.currentCloudPath,o=n.length>0?Us(n):n;t.path===o&&401===i.status&&e.commit("SET_CURRENT_CLOUD_AUTHORIZED",{status:"unauthorized",authUrl:i.response.body.redirect_url})})};e.commit("ADD_PENDING_REQUEST",{request:a,token:s})}})},addCloudFolder:function(n,o){var r=o.name,s=o.path,a=void 0,l=r+s,c=n.state.cache[l];c?a=Promise.resolve(c):(t=e.cloud(r),a=t.list(s),n.commit("SET_CLOUD_FOLDER_LOADING",{path:s,value:!0})),a.then(function(e){if(c)return void e.filter(function(e){return!e.folder}).forEach(function(e){return n.dispatch("addFile",e)});n.commit("SET_CLOUD_FOLDER_LOADING",{path:s,value:!1});var t=e.contents.map(function(e){return i(e,r)});n.commit("SET_CACHE",{key:l,value:t}),t.filter(function(e){return!e.folder}).forEach(function(e){return n.dispatch("addFile",e)})}).catch(function(e){n.commit("SET_CLOUD_FOLDER_LOADING",{path:s,value:!1}),n.dispatch("showNotification",e.message)})},showCloudPath:function(n,o){var r=o.name,s=o.path,a=void 0===s?[]:s;n.getters.currentCloudName!==r&&(t=e.cloud(r),n.commit("SET_CURRENT_CLOUD_NAME",r)),n.getters.currentCloudAuthorized!==!0&&n.commit("SET_CURRENT_CLOUD_AUTHORIZED",!0);var l=a.length>0?Us(a):a,c=r+l,u=n.state.cache[c];if(n.commit("RESET_LIST_CURRENT_CLOUD_PATH"),n.commit("SET_CURRENT_CLOUD_PATH",a),n.commit("CANCEL_ALL_PENDING_REQUESTS"),u){var d=u.filter(function(e){return e.folder});return void n.dispatch("prefetchFolders",{client:t,name:r,folders:d})}n.getters.cloudsPrefetching[c]||function(e){n.commit("SET_CLOUD_LOADING",!0),t.list(e).then(function(e){if(n.getters.currentCloudPath===a){var o=e.contents.map(function(e){return i(e,r)}),s=o.filter(function(e){return e.folder});n.dispatch("prefetchFolders",{client:t,name:r,folders:s}),n.commit("SET_CLOUD_FOLDERS",s),n.commit("SET_LIST_FOR_CURRENT_CLOUD_PATH",o),n.commit("SET_CLOUD_LOADING",!1),n.commit("SET_CLOUD_AUTHORIZED",{key:r,value:!0})}}).catch(function(e){n.commit("SET_CLOUD_LOADING",!1),n.getters.currentCloudPath===a&&(401===e.status?n.commit("SET_CURRENT_CLOUD_AUTHORIZED",{status:"unauthorized",authUrl:e.response.body.redirect_url}):n.dispatch("showNotification",e.response.body.status))})}(l)}},getters:{currentCloudAuthorized:function(e){return e.currentCloudAuthorized},currentCloudName:function(e){return e.currentCloudName},currentCloudPath:function(e){return e.currentCloudPath},listForCurrentCloudPath:function(e){return e.listForCurrentCloudPath},cloudFolders:function(e){return e.cloudFolders},cloudLoading:function(e){return e.loading},cloudsPrefetching:function(e){return e.cloudsPrefetching},cloudsAuthorized:function(e){return e.cloudsAuthorized},pendingReqs:function(e){return e.pendingReqs}}}},ja=function(e){var t=function(e){return fn({source:"imagesearch",sourceKind:"cloud"},e)};return{state:{input:"",isSearching:!1,result:null,error:null},mutations:{UPDATE_INPUT:function(e,t){e.input=t},FETCH_IMAGES_BEGIN:function(e){e.isSearching=!0},FETCH_IMAGES_SUCCESS:function(e,t){e.result=t,e.isSearching=!1},FETCH_IMAGES_ERROR:function(e,t){e.error=t,e.isSearching=!1},CLEAR_RESULT_NAME:function(e){e.result&&(e.result.name=null)}},actions:{updateSearchInput:function(e,t){""!==t&&t!==e.getters.imageSearchName||e.commit("CLEAR_RESULT_NAME"),e.commit("UPDATE_INPUT",t)},fetchImages:function(i){if(!i.getters.isSearching){var n=i.getters.imageSearchInput;n&&(i.commit("FETCH_IMAGES_BEGIN"),e.cloud("imagesearch").list("/"+n).then(function(e){0===e.contents.length&&i.dispatch("showNotification","No search results found for "+n),e.contents=e.contents.map(t),i.commit("FETCH_IMAGES_SUCCESS",e)}).catch(function(e){i.commit("FETCH_IMAGES_ERROR",e),i.dispatch("showNotification",e.message)}))}}},getters:{isSearching:function(e){return e.isSearching},noResultsFound:function(e){return e.result&&0===e.result.contents.length},resultsFound:function(e){return e.result&&e.result.contents.length>0},imageSearchInput:function(e){return e.input},imageSearchName:function(e){return e.result&&e.result.name},imageSearchResults:function(e){return e.result&&e.result.contents},imageSearchError:function(e){return e.error}}}},Va={ADD_NOTIFICATION:function(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION:function(e,t){e.notifications=e.notifications.filter(function(e){return e!==t})},REMOVE_ALL_NOTIFICATIONS:function(e){e.notifications.splice(0,e.notifications.length)}},Ga={showNotification:function(e,t,i){var n=fn({message:t},i);e.getters.notifications.map(function(e){return e.message}).indexOf(t)<0&&(e.commit("ADD_NOTIFICATION",n),setTimeout(function(){e.commit("REMOVE_NOTIFICATION",n)},5e3))},removeAllNotifications:function(e){e.commit("REMOVE_ALL_NOTIFICATIONS")}},Wa={notifications:function(e){return e.notifications}},Ha={state:{notifications:[]},mutations:Va,actions:Ga,getters:Wa};tt.use(Hr);var Ba=function(e,t,i,n){return n=fn({apiClient:e,config:t,route:["source",t.fromSources[0].name],routesHistory:[]},n,{mobileNavActive:Ps(navigator.userAgent),selectLabelIsActive:!1}),new Hr.Store({state:n,modules:{uploadQueue:Os(e,n.uploadQueue),cloud:za(e),imageSearch:ja(e),notifications:Ha},mutations:{CHANGE_ROUTE:function(e,t){Ps(navigator.userAgent)&&t.indexOf("local_file_system")!==-1&&(e.mobileNavActive=!0),e.routesHistory.push(e.route),e.route=t},GO_BACK_WITH_ROUTE:function(e){var t=e.routesHistory.pop();Ps(navigator.userAgent)&&t.indexOf("local_file_system")!==-1&&(e.mobileNavActive=!0),e.route=t},UPDATE_MOBILE_NAV_ACTIVE:function(e,t){e.mobileNavActive=t},UPDATE_SELECT_LABEL_ACTIVE:function(e,t){e.selectLabelIsActive=t}},actions:{allUploadsDone:function(e){e.commit("CHANGE_ROUTE",["done"]),i({filesUploaded:cs(e.getters.filesDone),filesFailed:cs(e.getters.filesFailed)})},goBack:function(e){e.commit("GO_BACK_WITH_ROUTE")},updateMobileNavActive:function(e,t){e.commit("UPDATE_MOBILE_NAV_ACTIVE",t)},updateSelectLabelActive:function(e,t){e.commit("UPDATE_SELECT_LABEL_ACTIVE",t)}},getters:{apiClient:function(e){return e.apiClient},uiVisible:function(e,t){return!t.uploadStarted||!e.config.hideWhenUploading},route:function(e){return e.route},routesHistory:function(e){return e.routesHistory},fromSources:function(e){return e.config.fromSources},accept:function(e){return e.config.accept},preferLinkOverStore:function(e){return e.config.preferLinkOverStore},maxSize:function(e){return e.config.maxSize},minFiles:function(e){return e.config.minFiles},maxFiles:function(e){return e.config.maxFiles},startUploadingWhenMaxFilesReached:function(e){return e.config.startUploadingWhenMaxFilesReached},storeTo:function(e){return e.config.storeTo},uploadInBackground:function(e){return e.config.uploadInBackground},onFileSelected:function(e){return e.config.onFileSelected},onFileUploadStarted:function(e){return e.config.onFileUploadStarted},onFileUploadProgress:function(e){return e.config.onFileUploadProgress},onFileUploadFinished:function(e){return e.config.onFileUploadFinished},onFileUploadFailed:function(e){return e.config.onFileUploadFailed},mobileNavActive:function(e){return e.mobileNavActive},selectLabelIsActive:function(e){return e.selectLabelIsActive},disableTransformer:function(e){return e.config.disableTransformer},transformOptions:function(e){return e.config.transformOptions},lang:function(e){return e.config.lang}}})},Ya=function(e){return"object"===(void 0===e?"undefined":un(e))&&null!==e&&Array.isArray(e)===!1},Xa=function(e){return e%1==0},qa={fromSources:function(e){return"string"==typeof e&&(e=[e]),e.map(es)},accept:function(e){return"string"==typeof e&&(e=[e]),e.forEach(function(e){if("string"!=typeof e)throw new Error('Invalid value for "accept" config option')}),e},preferLinkOverStore:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "preferLinkOverStore" config option');return e},maxSize:function(e){if("number"!=typeof e||!Xa(e)||e<0)throw new Error('Invalid value for "maxSize" config option');return e},minFiles:function(e){if("number"!=typeof e||!Xa(e)||e<0)throw new Error('Invalid value for "minFiles" config option');return e},maxFiles:function(e){if("number"!=typeof e||!Xa(e)||e<0)throw new Error('Invalid value for "maxFiles" config option');return e},startUploadingWhenMaxFilesReached:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "startUploadingWhenMaxFilesReached" config option');return e},loadCss:function(e){if("boolean"==typeof e&&e===!1||"string"==typeof e)return e;throw new Error('Invalid value for "loadCss" config option')},lang:function(e){if("boolean"==typeof e&&e===!1||"string"==typeof e)return e;throw new Error('Invalid value for "lang" config option')},storeTo:function(e){if(Ya(e))return e;throw new Error('Invalid value for "storeTo" config option')},transformOptions:function(e){if(Ya(e))return e;throw new Error('Invalid value for "transformOptions" config option')},hideWhenUploading:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "hideWhenUploading" config option');return e},uploadInBackground:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "uploadInBackground" config option');return e},disableTransformer:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "disableTransformer" config option');return e},onFileSelected:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileSelected" config option');return e},onFileUploadStarted:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadStarted" config option');return e},onFileUploadProgress:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadProgress" config option');return e},onFileUploadFinished:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadFinished" config option');return e},onFileUploadFailed:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadFailed" config option');return e}},Ka=function(e,t){return void 0===e.fromSources&&(e.fromSources=["local_file_system","imagesearch","facebook","instagram","googledrive","dropbox"]),void 0===e.preferLinkOverStore&&(e.preferLinkOverStore=!1),void 0===e.minFiles&&(e.minFiles=1),void 0===e.maxFiles&&(e.maxFiles=1),void 0===e.startUploadingWhenMaxFilesReached&&(e.startUploadingWhenMaxFilesReached=!1),void 0===e.loadCss&&(e.loadCss=t.css.main),void 0===e.hideWhenUploading&&(e.hideWhenUploading=!1),void 0===e.lang&&(e.lang="en"),void 0===e.uploadInBackground&&(e.uploadInBackground=!0),void 0===e.disableTransformer&&(e.disableTransformer=!1),e},Za=function(e){var t={};if(Object.keys(e).forEach(function(i){var n=qa[i];if(!n)throw new Error('Unknown config option "'+i+'"');t[i]=n(e[i])}),void 0!==t.minFiles&&void 0!==t.maxFiles&&t.minFiles>t.maxFiles)throw new Error('Config option "minFiles" must be smaller or equal to "maxFiles"');return t},Qa=Ar.context("picker"),Ja=function(e,t,i){return new Promise(function(n){var o=function(e){n(e)};tt.use(wr),tt.locales(Ts);var r=document.createElement("div");document.body.appendChild(r);var s=new tt({el:r,store:Ba(e,t,o,i),render:function(e){return e(Pa)},created:function(){this.$translate.setLang(t.lang),document.body.classList.add("fsp-picker-open")},destroyed:function(){s.$el.parentNode.removeChild(s.$el),document.body.classList.remove("fsp-picker-open")}})})},el=function(e){return e.loadCss===!1?Promise.resolve():Nr.loadCss(e.loadCss)};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Qa("Starting picker v0.4.1 with config:",t),t=Za(Ka(t,cn)),el(t).then(function(){return Ja(e,t,i)})}});
